<!DOCTYPE HTML>
<html>
<head>
	<title>Multi-level data</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="multi-level data">
	<meta name="dataset" content="Household survey">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class=heading>Small groups or clusters of 'individuals'</p>
	<p>In some data sets, the basic 'individuals' are arranged in fairly small groups 
		or clusters.</p>
	
	<dl>
		<dt>Measurements of plants</dt>
		<dd>In a study investigating plant growth, the researcher might record the 
			nutrient content of a few leaves from each of a sample of plants. The leaves 
			are the natural 'individuals' in the data matrix since measurements are 
			made from each individual leaf, but they are grouped by plant.</dd>
		<dt>Household income</dt>
		<dd>Surveys often select households in an area then obtain information about 
			every member of the household. (Sampling clusters of people is cheaper than 
			sampling individuals.) The people are the natural 'individuals' in the data 
			matrix, but they are grouped by household.</dd>
	</dl>
	
	<p>In data sets of these kinds, a categorical variable could distinguish between 
		the groups, but there would be a large number of possible values and these 
		values (the plant or houshold names) are of little direct interest.</p>
	<p class=heading>Data at different levels</p>
	<p>Furthermore, some measurements are usually recorded at group level rather 
		than individual level. For example, the age and height of the plant, or the 
		dwelling type and distance from shops of the household are all recorded at 
		group level. These values could be stored in a separate group-level data matrix.</p>
	<p class=eqn> <object data="images/multilevelMatrices.svg" width="490" height="287" alt="variables x individuals"></object>
	</p>
	<p>&nbsp;</p>
	<center>
		<table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="75%">
			<tr> 
				<th align="CENTER"><strong>Each data matrix can be separately analysed.</strong></th>
			</tr>
		</table>
	</center>
	<br>
	
		
<div class="diagram">

		<p class="heading">Household survey</p>

		<p>The data below are of a type that are commonly collected in surveys of 
			consumer purchases and attitudes. A sample of houses is selected and information 
			is collected from all individuals in these houses. For illustrative purposes, 
			we have only shown data from 18 households and have only shown one variable 
			at household level and three at person level.</p>
		<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="structureProg.MultiLevelDataApplet">
<param name="nCoreVars" value="1 3">
<param name="indexName" value="ID#Hh ID">
<param name="higherDataName" value="Household level">
<param name="higherLabelName" value="Address">
<param name="higherLabels" value="#14 Station Rd# #20 New Rd# #2 Newalls Rise# #9 Walton Av# #2 Kendall Av# #14 Buckden St# #269 Norcot Rd# #46 Victoria Rd# #354 Wokingam Rd# #27 Churchill Cres# #227 Brook St# #5 Ardler Rd# #175 Peppard Rd# #70 Prospect St# #57 Shefford Cres# #17 Denmark Av# #5 Audley St# #58 Pitford Rd# #6 Eagle Cl# #78 New Bright St# #25 Eastcourt Av# #150 Hexham Rd#">
<param name="higherVarName0" value="Shops">
<param name="higherValues0" value="2.4 0.8 4.4 1.2 2.6 0.2 2.4 1.2 0.6 1.0 2.0 0.2 0.6 0.4 1.2 0.2 0.8 0.8 5.2 2.8 1.0 2.6">
<param name="lowerDataName" value="Person level">
<param name="linkIndices" value="0 0 0 1 1 1 2 2 3 3 3 3 4 4 4 5 5 5 5 5 6 6 6 6 6 7 8 9 9 9 9 10 10 11 11 11 11 12 12 13 13 14 14 14 14 15 15 15 16 16 16 16 16 16 17 17 18 18 18 18 18 18 19 19 19 19 19 20 20 20 20 20 21 21">
<param name="lowerLabelName" value="Person name">
<param name="lowerLabels" value="Luke Christine Rebecca David Eloise Brendon Robert Sarah Mark Rebecca Lucy Daniel Nicholas Natalie Rachel Keith Jessica Phillip Hannah Lucy James Margaret Katie Laura Philippa Kate Christopher Ruth Brendon Rebecca Daniel Richard Holly Krystle Sara Haydyn Brydee Hugh Tracey Jennifer Vanessa Douglas Rhys Tessa Phillip Vicki Sarah Nihaad Frank Paul Rachel Mariyam Louise Fiona Brook Sarah Luke Andrew John Julian Eloise Melissa Kurt Sarah Dana James Lucy Mary Aaron Natalie Rachel Robert Jack Cherie">
<param name="lowerVarName0" value="Age">
<param name="lowerValues0" value="65 60 17 37 38 12 26 25 51 46 22 17 40 31 11 30 27 5 3 1 76 47 12 8 5 35 65 45 23 21 14 45 38 23 19 17 21 58 55 90 70 43 20 16 14 25 22 24 85 49 49 20 14 8 25 28 23 22 25 21 23 25 30 32 7 4 1 66 45 34 6 3 74 70">
<param name="lowerVarName1" value="Gender">
<param name="lowerCatLabels1" value="M F">
<param name="lowerValues1" value="0 1 0 0 1 0 0 1 0 1 1 0 0 1 1 0 1 0 1 1 0 1 1 1 0 1 0 1 0 1 1 0 1 1 1 0 1 0 1 1 1 0 0 1 0 1 1 0 0 0 1 1 1 1 1 1 0 0 0 0 1 1 0 1 1 0 1 0 1 0 1 0 0 1">
<param name="lowerVarName2" value="Income">
<param name="lowerValues2" value="56400 45000 0 34900 41300 0 33600 35100 78000 41400 28200 0 42300 21000 0 23800 0 0 0 0 0 65800 0 0 0 31900 66300 34100 24200 26400 0 58300 32500 24200 31600 25600 30900 69000 87300 0 0 51500 0 0 0 27900 14300 25000 0 34400 55700 0 0 0 18400 26500 24000 41200 18600 26400 36300 0 0 25700 0 0 0 16800 63600 46000 0 0 0 0">
</applet>
</div>

		<p>The data matrix on the left shows household-level information &mdash; the house 
			address and its distance from the nearest supermarket (km). The data matrix 
			on the right shows data that were collected from the individuals in the 
			households &mdash; age, gender and income.</p>
		<p>Note that the households have also been given a unique number and each 
			individual has a 'household ID' variable that links it to its household. 
			Click on any household or individual to see the corresponding entries in 
			the two tables.</p>
</div>


	<p class="heading">Moving information between the data matrices</p>
	<p>Information can be exchanged between the two data matrices in order to analyse 
		both sets of data together.</p>
		
	<dl>
		<dt>Group level --&gt; individual level</dt>
		<dd>Each row of the individual-level data matrix could be augmented with  
			values copied from the corresponding row (group) of the group-level data matrix</dd>
		<dt>Individual level --&gt; group level</dt>
		<dd>It is also possible to summarise individual-level data and add it to the 
			group-level data matrix. For example, we could add a 'maximum age' or 'household 
			size' variable to the household-level data matrix. In the plant-and-leaf scenario described at the top of this page, an 'average leaf length' 
			variable could be added to the plant-level data matrix.</dd>
	</dl>
	<br>
	<center>
		<table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="75%">
			<tr> 
				<th align="CENTER"><strong>Information can be obtained from multi-level 
					data by examining both the group-level and individual-level data matrices.</strong></th>
			</tr>
		</table>
	</center>
	<br>
		
<div class="diagram">

		<p class="heading">Household survey</p>
		<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="450" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="structureProg.MultiLevelDataApplet">
<param name="nCoreVars" value="1 3">
<param name="indexName" value="ID#Hh ID">
<param name="higherDataName" value="Household level">
<param name="higherLabelName" value="Address">
<param name="higherLabels" value="#14 Station Rd# #20 New Rd# #2 Newalls Rise# #9 Walton Av# #2 Kendall Av# #14 Buckden St# #269 Norcot Rd# #46 Victoria Rd# #354 Wokingam Rd# #27 Churchill Cres# #227 Brook St# #5 Ardler Rd# #175 Peppard Rd# #70 Prospect St# #57 Shefford Cres# #17 Denmark Av# #5 Audley St# #58 Pitford Rd# #6 Eagle Cl# #78 New Bright St# #25 Eastcourt Av# #150 Hexham Rd#">
<param name="higherVarName0" value="Shops">
<param name="higherValues0" value="2.4 0.8 4.4 1.2 2.6 0.2 2.4 1.2 0.6 1.0 2.0 0.2 0.6 0.4 1.2 0.2 0.8 0.8 5.2 2.8 1.0 2.6">
<param name="lowerDataName" value="Person level">
<param name="linkIndices" value="0 0 0 1 1 1 2 2 3 3 3 3 4 4 4 5 5 5 5 5 6 6 6 6 6 7 8 9 9 9 9 10 10 11 11 11 11 12 12 13 13 14 14 14 14 15 15 15 16 16 16 16 16 16 17 17 18 18 18 18 18 18 19 19 19 19 19 20 20 20 20 20 21 21">
<param name="lowerLabelName" value="Person name">
<param name="lowerLabels" value="Luke Christine Rebecca David Eloise Brendon Robert Sarah Mark Rebecca Lucy Daniel Nicholas Natalie Rachel Keith Jessica Phillip Hannah Lucy James Margaret Katie Laura Philippa Kate Christopher Ruth Brendon Rebecca Daniel Richard Holly Krystle Sara Haydyn Brydee Hugh Tracey Jennifer Vanessa Douglas Rhys Tessa Phillip Vicki Sarah Nihaad Frank Paul Rachel Mariyam Louise Fiona Brook Sarah Luke Andrew John Julian Eloise Melissa Kurt Sarah Dana James Lucy Mary Aaron Natalie Rachel Robert Jack Cherie">
<param name="lowerVarName0" value="Age">
<param name="lowerValues0" value="65 60 17 37 38 12 26 25 51 46 22 17 40 31 11 30 27 5 3 1 76 47 12 8 5 35 65 45 23 21 14 45 38 23 19 17 21 58 55 90 70 43 20 16 14 25 22 24 85 49 49 20 14 8 25 28 23 22 25 21 23 25 30 32 7 4 1 66 45 34 6 3 74 70">
<param name="lowerVarName1" value="Gender">
<param name="lowerCatLabels1" value="M F">
<param name="lowerValues1" value="0 1 0 0 1 0 0 1 0 1 1 0 0 1 1 0 1 0 1 1 0 1 1 1 0 1 0 1 0 1 1 0 1 1 1 0 1 0 1 1 1 0 0 1 0 1 1 0 0 0 1 1 1 1 1 1 0 0 0 0 1 1 0 1 1 0 1 0 1 0 1 0 0 1">
<param name="lowerVarName2" value="Income">
<param name="lowerValues2" value="56400 45000 0 34900 41300 0 33600 35100 78000 41400 28200 0 42300 21000 0 23800 0 0 0 0 0 65800 0 0 0 31900 66300 34100 24200 26400 0 58300 32500 24200 31600 25600 30900 69000 87300 0 0 51500 0 0 0 27900 14300 25000 0 34400 55700 0 0 0 18400 26500 24000 41200 18600 26400 36300 0 0 25700 0 0 0 16800 63600 46000 0 0 0 0">
<param name="nDerivedVars" value="1 3">
<param name="copy0" value="y0#Shops">
<param name="sum0" value="COUNT#Hh size#0">
<param name="sum1" value="MIN#Min age#0#y0">
<param name="sum2" value="TOTAL#Total income#0#y2">
</applet>
</div>
		<p>In the household survey above, the 'Distance to shops' data from household 
			level can be copied to the individual-level data matrix to be analysed at 
			individual level.</p>
		<p>In a similar way, information from the individuals in a household can be 
			used to create new variables at household level. Select <strong>Hh size</strong> 
			(household size), <strong>Min age</strong> (minimum age) and <strong>Total 
			income</strong> from the pop-up menu. Their values for any household are 
			determined from variables in the individual-level data matrix for the individuals 
			in the household. (Again, click any household's row to highlight the individuals 
			in it.) </p>
	</div>
	
	<p class="heading">Analysis of the two data matrices</p>
	<p>The data-analysis methods that will be described in CAST can be used with 
		both the group-level and individual-level data matrices. It is however important 
		to recognise the difference between analysing the data at these two levels.</p>
		
<div class="diagram">
	  <p>Consider a household with 1 individual that is 2 km from shops and another 
			household with 9 individuals that is 1 km from shops.</p>
	<dl>
		<dt>Household level</dt>
		  <dd>The average household distance from shops is 1.5 km &mdash; the average of 
				the two household distances.</dd>
		<dt>Individual level</dt>
		  <dd>The average individual distance from shops is 1.1 km &mdash; the average 
				of the ten individual distances 1, 1, 1, 1, 1, 1, 1, 1, 1, 2.</dd>
	</dl>
	<br>
	</div>
	<p>Properly analysing multi-level data and interpreting the results of the analysis 
		requires a lot of careful thought and care!</p>
	
	<center>
		<table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="75%">
			<tr> 
				<th align="CENTER"><strong>Although you can analyse both the group-level 
					and individual-level data matrices using the methods that will be described 
					in CAST, advanced statistical methods are needed to fully analyse multi-level 
					data.</strong></th>
			</tr>
		</table>
	</center>
	
<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
