<!DOCTYPE HTML>
<html>
<head>
	<title>Fitted values and predictions</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="response variable, explanatory variable, linear model, nonlinear model, prediction">
	<meta name="dataset" content="Menstruation age">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">A linear model for proportions?</p>

<p>When we modelled how a numerical explanatory variable effected a <strong> numerical</strong> 
response variable, a linear equation was used, </p>

<p class=eqn><span class="black"><span style="position:relative; top:4px"><img src="../../images/symbol.yHat.png" width="10" height="17" align="baseline"></span>&nbsp; =&nbsp; <em>b</em><sub>0</sub> + <em>b</em><sub>1 </sub><em>x</em></span>
</p>

<p>When the response variable is categorical, it is tempting to try a similar linear
equation to explain how the proportion in one response category is affected by the explanatory
variable,
</p>

<p class=eqn style="color:#000000"><strong>predicted proportion</strong>, &nbsp; <img class="gif" width="104" height="24"></p>

<p>Unfortunately however, <strong>...</strong></p>
<table width="80%" border="1" cellspacing="0" cellpadding="10" bgcolor="#FFFFFF" class="centred">
<tr> 
<td align="center"><strong>... a linear equation is <font color="#FF0000">not 
appropriate</font> for a proportion since it may result in predicted proportions 
greater than 1.0 or less than 0.0.</strong></td>
</tr>
</table>
<p class="heading">Nonlinear models</p>
  
<p>To model how a proportion depends on a numerical explanatory variable, <i>X</i>, 
an equation should give values between 0 and 1<strong> for all possible values 
of <em>X</em></strong>. This means that the equation must be nonlinear in <em>X</em>.</p>
<div class="diagram"> 
<p class="heading">Menstruation and age</p>
<p>A straight line has been drawn on the menstruation data below to model how 
the proportion menstruating might depend on age. </p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="380">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="logisticProg.LinesApplet">
<param name="xVarName" value="Menstruating?">
<param name="xValues" value="0@0 376@1 0@0 200@1 0@0 93@1 2@0 118@1 2@0 88@1 5@0 63@1 10@0 95@1 17@0 94@1 16@0 84@1 29@0 64@1 39@0 61@1 51@0 57@1 47@0 52@1 67@0 39@1 81@0 24@1 88@0 29@1 79@0 19@1 90@0 7@1 113@0 7@1 95@0 7@1 117@0 5@1 107@0 4@1 92@0 2@1 112@0 2@1 1049@0 0@1">
<param name="xLabels" value="#Menstruating# #Not menstruating#">
<param name="yVarName" value="Age">
<param name="yValues" value="376@9.21 200@10.21 93@10.58 120@10.83 90@11.08 68@11.33 105@11.58 111@11.83 100@12.08 93@12.33 100@12.58 108@12.83 99@13.08 106@13.33 105@13.58 117@13.83 98@14.08 97@14.33 120@14.58 102@14.83 122@15.08 111@15.33 94@15.58 114@15.83 1049@17.58">
<param name="horizAxis" value="9 18 9 1">
<param name="vertAxis" value="-0.3 1.3 -0.2 0.2">
<param name="interceptLimits" value="-11.0 5.0 -20.8">
<param name="slopeLimits" value="-5.0 5.0 1.6">
<param name="linearInterceptLimits" value="-5.0 -2.0 -3.2">
<param name="linearSlopeLimits" value="0.0 1.0 0.2857">
</applet>
</div>

<p><strong>Drag</strong> the vertical red line on the axis to obtain the predicted
proportion menstruating at different ages.
</p>

<p>The linear model is a reasonably close fit to the data between ages
11<sup>1</sup>/<sub>2</sub> and 14<sup>1</sup>/<sub>2</sub>.
From the slope of the line (approximately 0.25), we can tell that aproximately a
quarter of girls start menstruating each year.
</p>

<p>However the linear model predicts that <strong>more than 100%</strong> of girls 
will have started menstruating at ages greater than 15, and a <strong>negative 
proportion</strong> menstruating at ages less than 11. <strong>Any</strong> linear 
model will predict proportions outside the range 0-to-1 for extreme enough values 
of <i>X</i>. </p>

<p>Now select the option <strong>Nonlinear model</strong> from the pop-up menu. 
This curve is better than the previous straight line since it remains between 
0 and 1 for all ages. </p>

<p>Again <strong>drag</strong> the vertical red line on the axis to obtain the 
predicted proportion menstruating at different ages. Observe that this nonlinear 
model can provide reasonable predictions at all ages. </p>

</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
