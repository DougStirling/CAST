<!DOCTYPE HTML>
<html>
<head>
	<title>Pairing and experimental design</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="hypothesis test, paired t-test, matched pairs">
	<meta name="dataset" content="Car repair estimates">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Choice between paired data or two independent samples</p>
  <p>In many situations, it is possible to answer questions about the difference 
    between two means by collecting two alternative types of data.</p>
  <dl>
    <dt>Two independent samples</dt>
    <dd>Measurements are made from two samples of individuals from the groups 
      whose means are to be compared. A 2-sample t-test will compare the means.</dd>
    <dt>One paired sample</dt>
    <dd>The 'individuals' can be re-defined as pairs of related values from the 
      two groups, and a single sample of these pairs can be collected. A paired 
      t-test can be performed on the differences to compare the means.</dd>
  </dl>
  <p>Which experimental design is better?</p>
<center>
    <table border="1" cellspacing="0" cellpadding="10" bgcolor="white" width="75%">
      <tr> 
        <td><div class="centred"><strong>If the individuals in the 2 groups can 
            be paired so that the pairs are relatively similar, a paired design gives 
            more accurate results.</strong></div></td>
      </tr>
    </table>
  </center>
  <br>
  <div class="diagram"> 

    <p class="heading">Car repair costs from two garages</p>
    <p>Consider an insurance company that is investigating whether Garage B is 
      over-charging for car repairs. Data should be collected to compare the average 
      estimates for repairs from Garage B and another garage, Garage A.</p>
    <p class="heading">Simulation</p>
    <p>We will conduct a simulation based on a pool of 20 cars whose estimated 
      repair costs are shown in the table below.</p>
    <table border="0" class="centred" cellpadding="3" cellspacing="0">
      <tr> 
        <th>&nbsp;</th>
        <th colspan="2">Repair estimate</th>
      </tr>
      <tr> 
        <th>Car</th>
        <th>&nbsp;&nbsp;Garage A&nbsp;&nbsp;</th>
        <th>Garage B</th>
      </tr>
      <tr align="center"> 
        <td><table border="0" cellpadding="0" cellspacing="0">
            <tr> 
              <td align="right">1<br>
                2<br>
                3<br>
                4<br>
                5<br>
                6<br>
                7<br>
                8<br>
                9<br>
                10<br>
                11<br>
                12<br>
                13<br>
                14<br>
                15<br>
                16<br>
                17<br>
                18<br>
                19<br>
                20</td>
            </tr>
          </table></td>
        <td bgcolor="#FFFFFF"><table border="0" cellpadding="5" cellspacing="0">
            <tr> 
              <td align="right">normal(<font color="#0000FF"><strong>380</strong></font>, 
                120)<br>
                normal(<strong><font color="#0000FF">760</font></strong>, 120)<br>
                normal(<strong><font color="#0000FF">1180</font></strong>, 120)<br>
                normal(<font color="#0000FF"><strong>560</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>260</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1000</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1300</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1720</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1800</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1440</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>630</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>580</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1660</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1160</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>460</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1200</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1780</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>320</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>900</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1040</strong></font>, 120)</td>
            </tr>
          </table></td>
        <td bgcolor="#FFFFFF"><table border="0" cellpadding="5" cellspacing="0">
            <tr> 
              <td align="right">normal(<font color="#0000FF"><strong>580</strong></font>, 
                120)<br>
                normal(<font color="#0000FF"><strong>960</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1380</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>760</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>460</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1200</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1500</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1920</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>2000</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1640</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>830</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>780</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1860</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1360</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>660</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1400</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1980</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>520</strong></font>, 120)<br>
                normal(<font color="#0000FF"><strong>1100</strong></font>, 120)<br>
                normal(<strong><font color="#0000FF">1240</font></strong>, 120)</td>
            </tr>
          </table></td>
      </tr>
    </table>
	<br>
    <center>
      <table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="400">
        <tr> 
          <th align="CENTER">Note that Garage B over-charges by $200 on average 
            for each car.</th>
        </tr>
      </table>
    </center>
    <p class="heading">Two independent samples</p>
    <p>We first simulate an experiment in which 10 cars are randomly selected 
      to be sent to Garage A, and the other 10 cars are assessed by Garage B.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="350" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="pairBlockProg.DiffGroupApplet">
<param name="group1Means" value="380 760 1180 560 260 1000 1300 1720 1800 1440 630 580 1660 1160 460 1200 1780 320 900 1040">
<param name="group2Means" value="580 960 1380 760 460 1200 1500 1920 2000 1640 830 780 1860 1360 660 1400 1980 520 1100 1240">
<param name="groupNames" value="#Garage A# #Garage B#">
<param name="groupValues" value="10@0 10@1">
<param name="yName" value="Estimate ($)">
<param name="sd" value="120">
<param name="yAxis" value="0 2200 0 500">
<param name="decimals" value="0">
<param name="indexName" value="Car number">
<param name="maxDiff" value="-999.9">
<param name="customText" value="95% CI=95% CI#Show paired values=Show paired values#Estimate of difference=Estimate of difference#Equal means=Equal means">
</applet>
</div>

    <p>A 95% confidence interval for the over-charging (difference between the 
      mean estimates from the two garages) is shown, and the p-value for a 2-tailed 
      test for a difference is also given.</p>
    <p>Repeat the simulation several times and observe from the p-values that:</p>
    <center>
      <table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="400">
        <tr> 
          <th align="CENTER">The 2-sample test rarely gives evidence that Garage 
            B over-charges &mdash; the p-value is usually over 0.05.</th>
        </tr>
      </table>
    </center>
    <p>Click <strong>Show paired values</strong> to see the (unobserved) data 
      that would have been obtained if all cars had been assessed by all garages.</p>
    <p class="heading">Paired data</p>
    <p>We next simulate an experiment in which 10 cars are randomly selected and 
      are assessed by both Garage A and Garage B.</p>
    <div class="centred"> 
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="350" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="pairBlockProg.DiffPairedApplet">
<param name="group1Means" value="380 760 1180 560 260 1000 1300 1720 1800 1440 630 580 1660 1160 460 1200 1780 320 900 1040">
<param name="group2Means" value="580 960 1380 760 460 1200 1500 1920 2000 1640 830 780 1860 1360 660 1400 1980 520 1100 1240">
<param name="groupNames" value="#Garage A# #Garage B#">
<param name="selectionValues" value="10@0 10@1">
<param name="yName" value="Estimate ($)">
<param name="sd" value="120">
<param name="yAxis" value="0 2200 0 500">
<param name="decimals" value="0">
<param name="indexName" value="Car number">
<param name="maxDiff" value="-999.9">
<param name="customText" value="95% CI=95% CI#Show paired values=Show paired values#Estimate of difference=Estimate of difference#Show all values=Show all values#Equal means=Equal means">
</applet>
    </div>
    <p>A 95% confidence interval of the over-charging is again shown, this time 
      based on the differences between the estimates in the pairs. The p-value 
      for a 2-tailed paired t-test for a difference is also given.</p>
    <p>Repeat the simulation several times and observe from the p-values that:</p>
    <center>
      <table border="1" cellspacing="0" cellpadding="5" bgcolor="white" width="400">
        <tr> 
          <th align="CENTER">The paired t-test usually finds strong evidence that 
            Garage B over-charges.</th>
        </tr>
      </table>
    </center>
    <br>
  </div>


  <p class="heading">Matched pairs</p>
  <p>It is often impossible to repeat the same experiment twice with the same 
		experimental units. In the Car Repair Costs example, if the comparison was 
		to be made of <strong>actual</strong> repair costs rather than estimates, 
		it would be impossible to obtain measurements for the same car from both garages.</p>
  <p>However it is often possible to group together the experimental units into 
    pairs that are similar in some way. These are called <strong>matched pairs</strong>. 
    The two experimental units in each pair are randomly assigned to the two treatments.</p>
  <div class="diagram"> 
  <dl>
    <dt>Actual car repair costs from garages A and B</dt>
    <dd>The damaged cars could be grouped into pairs with similar types of damage. 
      The two cars in each pair would be randomly sent to the two garages for 
      repair.</dd>
    <dt>Do students perform better in a test before or after lunch?</dt>
    <dd>Each student should only sit the test once. However the students could 
      be grouped into pairs, based on their IQ or their results in earlier tests. 
      In each pair, a randomly selected student would sit the test before lunch 
      and the other would sit after lunch.</dd>
    <dt>Effect of fertiliser on grass growth</dt>
      <dd>Six fields in different parts of an agricultural research station are 
        available for an experiment to estimate the increase in grass growth from 
        applying a standard quantity of fertiliser. Each field can be split in 
        half to form 'pairs' of half-fields for the experiment. Fertiliser would 
        be applied to a randomly selected half of each field.</dd>
  </dl>
    <p>In each example, pairing gives more accurate estimates than randomly allocating 
      the units (cars, students or fields) to the two treatments if the units 
      in the pairs are more similar to each other than to units in other pairs.</p>
  </div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
