<html>
<head>
  <title>5. Categorical Variables</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="../../../structure/printStyles.css" type="text/css">
  <link rel="stylesheet" href="../../../structure/summaryStyles.css" type="text/css">
  <script src="../../../structure/videoControls/jquery.js"></script>
  <script src="../../../structure/printFixes.js"></script>
</head>

<body id="body" onLoad="showPrintDialog(true)">
<div id='overlay'>
	<div id='dialogWindow'>
		<div class='printDialog'>
			<script type='text/javascript'>
				document.write("<div class='heading'>" + top.document.title + "</div>");
				if (top.url != null) {
					document.write("<p class='text'>A version of this chapter has already been generated in PDF format and we recommend that it is used for printing. The button below will download and display it.</p>");
					document.write("<p><button onClick='top.showPdf()'>Show PDF version of chapter</button></p>");
					document.write("<p class='text'>However downloading could be slow depending on your internet connection. If this is a problem, click the button below to print the chapter without downloading (but perhaps not formatted as well as the PDF version).</p>");
					document.write("<p><button onClick='top.doPrint()'>Show print dialog</button></p>");
					document.write("<p class='text'>If you are <strong>not</strong> using the PDF version, the best print results are obtained if the text is reduced in size and printed on  sheets of paper that are smaller than A4. This can be done using your browser's Page Setup command to scale by 71% and then printing on A5 paper.</p>");
				}
				else {
					document.write("<p class='text'>Click the button below to print this chapter.</p>");
					document.write("<p><button onClick='top.doPrint()'>Show print dialog</button></p>");
					document.write("<p class='text'>The best print results are obtained if the text is reduced in size and printed on  sheets of paper that are smaller than A4. This can be done using your browser's Page Setup command to scale by 71% and then printing on A5 paper.</p>");
				}
			</script>
			
			<p class='text'>If you don't want to print now,</p>
			<p><button onClick='top.showPrintDialog(false)'>Browse formatted chapter</button></p>
		</div>
	</div>
</div>
<h1 class="chapterName">Chapter 5 &nbsp; Categorical Variables</h1>
<h1 class="sectionName">5.1 &nbsp; Frequency tables</h1>
<div class='leftTocCol'>
<ol class='toc'>
<li>Frequency tables</li>
<li>Proportions and percentages</li>
</ol>
</div>
<div class='rightTocCol'>
<ol class='toc' start='3'>
<li>Recognising frequency tables</li>
<li>Changes to the categories</li>
</ol>
</div>
<br clear='all'>
<h2 class="pageName">5.1.1 &nbsp; Frequency tables</h2><!DOCTYPE HTML>


<p class="heading">Numerical and categorical data</p>
	<p>In a data set, a <strong>numerical</strong> variable contains a number
		from each individual. A <strong>categorical</strong> variable classifies each
		individual into one of several groups.</p>
	<p class="heading">Frequency tables</p>
	<p>For a categorical variable, the frequencies for the distinct categories are
the  number of times each category occurs in the data set. The frequencies fully
capture <strong>all</strong> information about the distribution of values and
are usually presented in a <strong>frequency table</strong>.</p>
<p class="eqn"><img src="../../../en/freqTable/images/s_freqTable.gif" width="397" height="195"></span>Bar charts can be very simple and need not take up much space in reports. Avoid the temptation to embellish them 'artistically' to make them more 
		visually appealing. These additions are collectively called <strong>chartjunk</strong>.</p>
	<p>Chartjunk adds 'noise' to a bar chart and  makes it harder to read
the real information that is contains. Rather than adding chartjunk, draw it
small or replace it with a frequency table.</p>
<p>A common form of chartjunk arises when each bar is drawn as a 3-dimensional
 object. When the resulting 3-dimensional picture is rotated, it often becomes
 harder to compare the heights of bars and to read off values from the axes.
In  particular, <strong>perspective views should be avoided</strong>.</p>
	<p class="eqn"><span class="centred"><img src="../../../en/univarCat/images/s_perspectiveBars.gif" width="374" height="376">        and         <img class="gif" src="../../../en/bivarCat/images/yMarginEqn.gif" width="88" height="27"></p>




<h2 class="pageName">5.4.5 &nbsp; Conditional distributions</h2><!DOCTYPE HTML>


<p class="heading">Spliting into groups</p>
	<p>If the values of <em>X</em> are used to split the individuals into groups,
the <strong>conditional distributions</strong> of <em>Y</em> given <em>X</em> are
the distributions within each of these groups. They are found by dividing the
cell counts by the totals for each such group. The columns of the table below
show the conditional distributions for a contingency table, expressed as percentages.</p>
<div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
<caption>
<strong>Conditional percentages for <em>Y</em>, given <em>X</em></strong>
</caption>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th colspan="4">Variable X</th>
</tr>
<tr>
<th colspan="2" align="left" valign="bottom">Variable Y&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X<sub>2</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X<sub>3</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X<sub>4</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
<tr>
<th rowspan="4" align="left">&nbsp;</th>
<th align="left">Y<sub>1</sub></th>
<td align="center" bgcolor="#FFFFFF" class="top left"><span style="color:#FFF">00</span>0.5</td>
<td align="center" bgcolor="#FFFFFF" class="top"><span style="color:#FFF">00</span>0.8</td>
<td align="center" bgcolor="#FFFFFF" class="top"><span style="color:#FFF">0</span>17.8</td>
<td align="center" bgcolor="#FFFFFF" class="top right"><span style="color:#FFF">0</span>18.2</td>
</tr>
<tr>
<th align="left">Y<sub>2</sub></th>
<td align="center" bgcolor="#FFFFFF" class="left"><span style="color:#FFF">0</span>12.1</td>
<td align="center" bgcolor="#FFFFFF"><span style="color:#FFF">0</span>44.6</td>
<td align="center" bgcolor="#FFFFFF"><span style="color:#FFF">0</span>50.9</td>
<td align="center" bgcolor="#FFFFFF" class="right"><span style="color:#FFF">0</span>51.5</td>
</tr>
<tr>
<th align="left">Y<sub>3</sub></th>
<td align="center" bgcolor="#FFFFFF" class="left"><span style="color:#FFF">0</span>36.3</td>
<td align="center" bgcolor="#FFFFFF"><span style="color:#FFF">0</span>32.8</td>
<td align="center" bgcolor="#FFFFFF"><span style="color:#FFF">0</span>19.1</td>
<td align="center" bgcolor="#FFFFFF" class="right"><span style="color:#FFF">0</span>18.2</td>
</tr>
<tr>
<th align="left">Y<sub>4</sub></th>
<td align="center" bgcolor="#FFFFFF" class="bottom left"><span style="color:#FFF">0</span>51.2</td>
<td align="center" bgcolor="#FFFFFF" class="bottom"><span style="color:#FFF">0</span>21.8</td>
<td align="center" bgcolor="#FFFFFF" class="bottom"><span style="color:#FFF">0</span>12.2</td>
<td align="center" bgcolor="#FFFFFF" class="bottom right"><span style="color:#FFF">0</span>12.1</td>
</tr>
<tr>
<td></td>
<th align="left">Total</th>
<td align="center" bgcolor="#99FF00" class="bottom left">100.0</td>
<td align="center" bgcolor="#99FF00" class="bottom">100.0</td>
<td align="center" bgcolor="#99FF00" class="bottom">100.0</td>
<td align="center" bgcolor="#99FF00" class="bottom right">100.0</td>
</tr>
</table></div>
<p>The <strong>conditional distributions</strong> of <em>X</em> given <em>Y</em> are
similarly found by using <em>Y</em> to create the groups of individuals. They
are found by dividing the cell counts by the totals in the other margin of the
original contingency table.</p>
<div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
<caption>
<strong>Conditional percentages for <em>X</em>, given <em>Y</em></strong>
</caption>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
<th colspan="4">Variable X</th>
<td></td>
</tr>
<tr>
<th colspan="2" align="left" valign="bottom">Variable Y&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;X<sub>1</sub>&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;X<sub>2</sub>&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;X<sub>3</sub>&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;&nbsp;&nbsp;X<sub>4</sub>&nbsp;&nbsp;&nbsp;</th>
<th>&nbsp;Total&nbsp;</th>
</tr>
<tr>
<th rowspan="4" align="left">&nbsp;</th>
<th align="left">Y<sub>1</sub></th>
<td align="center" bgcolor="#FFFFFF" class="top left"><span style="color:#FFF">0</span>2.9</td>
<td align="center" bgcolor="#FFFFFF" class="top"><span style="color:#FFF">0</span>4.4</td>
<td align="center" bgcolor="#FFFFFF" class="top">83.8</td>
<td align="center" bgcolor="#FFFFFF" class="top right">8.8</td>
<td align="right" bgcolor="#FFFF00" class="top right">100.0&nbsp;</td>
</tr>
<tr>
<th align="left">Y<sub>2</sub></th>
<td align="center" bgcolor="#FFFFFF" class="left">12.9</td>
<td align="center" bgcolor="#FFFFFF" class="middle">42.3</td>
<td align="center" bgcolor="#FFFFFF" class="middle">40.5</td>
<td align="center" bgcolor="#FFFFFF" class="right">4.2</td>
<td align="right" bgcolor="#FFFF00" class="right">100.0&nbsp;</td>
</tr>
<tr>
<th align="left">Y<sub>3</sub></th>
<td align="center" bgcolor="#FFFFFF" class="left">44.8</td>
<td align="center" bgcolor="#FFFFFF" class="middle">35.9</td>
<td align="center" bgcolor="#FFFFFF" class="middle">17.5</td>
<td align="center" bgcolor="#FFFFFF" class="right">1.7</td>
<td align="right" bgcolor="#FFFF00" class="right">100.0&nbsp;</td>
</tr>
<tr>
<th align="left">Y<sub>4</sub></th>
<td align="center" bgcolor="#FFFFFF" class="bottom left">63.6</td>
<td align="center" bgcolor="#FFFFFF" class="bottom">24.0</td>
<td align="center" bgcolor="#FFFFFF" class="bottom">11.3</td>
<td align="center" bgcolor="#FFFFFF" class="bottom right">1.2</td>
<td align="right" bgcolor="#FFFF00" class="bottom right">100.0&nbsp;</td>
</tr>
</table></div>
<p>Both tables of conditional proportions (or percentages) are often informative.</p>




<h2 class="pageName">5.4.6 &nbsp; More about conditional distributions</h2><!DOCTYPE HTML>


<p class="heading notPrinted">Conditional distributions of <em>X</em> given <em>Y</em> and <em>Y</em> given <em>X</em></p>
	<p>The conditional proportions for <em>X</em> given <em>Y</em> can be quite
different  from the corresponding conditional proportions for <em>Y</em> given <em>X</em> and
you
must be careful to distinguish between them.</p>
	<p>As an extreme example, under 5% of women are pregnant at any time, but 100% of pregnant people are women!</p>




<h2 class="pageName">5.4.7 &nbsp; Conditional vs marginal distns</h2><!DOCTYPE HTML>


<p class="heading notPrinted">Conditional and marginal distributions</p>
	<p>The distinction is between the marginal distribution for a variable 
		and its conditional distributions is illustrated for the following contingency
table that describes bruising of 96 apples in a packing plant.</p>
	<div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
		<tr>
			<td>&nbsp;</td>
			<th>&nbsp;&nbsp;&nbsp;OK&nbsp;&nbsp;&nbsp;</th>
			<th>Bruised</th>
		</tr>
		<tr>
			<th align="left">Granny Smith</th>
			<td align="center" bgcolor="#FFFFFF" class="left top">40</td>
			<td align="center" bgcolor="#FFFFFF" class="right top">8</td>
		</tr>
		<tr>
			<th align="left">Fuji</th>
			<td align="center" bgcolor="#FFFFFF" class="bottom left">24</td>
			<td align="center" bgcolor="#FFFFFF" class="bottom right">24</td>
		</tr>
	</table></div>
	<p>The diagram below shows the apples, arranged in rows by variety.</p>
	<p class="eqn"><img src="../../../en/bivarCat/images/s_propnVenn1.gif" width="500" height="347"></p>
	<p>If the response, <em>Y</em>, is categorical and the explanatory variable,
<em>X</em>,  is numerical, we are again interested in comparing the response
distribution at different <em>x</em>-values.
We might use <em>X</em> to define 'groups' by splitting its values
into classes (as might be done to draw a histogram) and this allows us to use
stacked bar charts to describe the relationship.</p>
<p class=eqn><img class="gif" src="../../../en/logistic/images/incomePensionStacked.gif" width="173" height="162"> </p>
	<p>It is not necessary for the 'classes' to be of equal width. For example, some of the age groups below are of width 3 months, whereas others are 6 months and the extreme classes are wider still.</p>
	<p class="eqn"><img src="../../../en/logistic/images/s_stackedBars.gif" width="550" height="289"></p>
	<p>Unfortunately this may result in predicted proportions greater than 1 or less than 0.</p>
	<p class="eqn"><img src="../../../en/logistic/images/s_linearModel.gif" width="506" height="322"></p>
	<p class="heading">The parameters of the logistic curve</p>
	<p>The parameter <em>b</em><sub>1</sub> is called the <strong>slope</strong> of the curve. Increasing it makes the curve steeper, and 
	its sign determines whether the curve slopes upwards or downwards.</p>
<p class="eqn"><img src="../../../en/logistic/images/s_slope.gif" width="407" height="259"></p>
	<p>The parameter <em>b</em><sub>0</sub> is the curve's <strong>intercept</strong> and it determines the horizontal position of the curve. Increasing it shifts the curve 
	to the left.</p>
<p class="eqn"><img src="../../../en/logistic/images/s_intercept.gif" width="407" height="259"></p>




<h2 class="pageName">5.6.4 &nbsp; Obtaining a good fit</h2><!DOCTYPE HTML>


<p class="heading notPrinted">Estimating the logistic parameters</p>
	<p>Estimating the parameters <em>b</em><sub>0</sub> and <em>b</em><sub>1</sub> of a logistic model is more difficult than estimating the parameters for a linear model by least squares, but  many statistical programs will do the appropriate calculations for 
	you.</p>
	<p>We therefore take a 'black box' approach and simply show what parameter estimation 
		gives without further justification. </p>
	<p class="eqn"><img src="../../../en/logistic/images/s_maxLikelihood.gif" width="404" height="334"></p>




</html>
