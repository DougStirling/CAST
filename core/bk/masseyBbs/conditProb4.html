<!DOCTYPE HTML>
<html>
<head>
	<title>Conditional probability</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="conditional probability">
	<meta name="dataset" content="Support and grief after neonatal death">
	<meta name="dataset" content="Rank and age in a university">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Conditional proportions</p>
  <p>Consider again hair colour (<span class="black em">Y</span> ) and eye
 colour (<span class="black em">X</span> ) in a group of teenagers. 
The proportion  of teenagers who are blonde, <strong>conditional on blue eyes</strong>,
 is the proportion of blondes <strong>within the sub-population with blue eyes</strong>.
 The conditional proportion is most easily understood as the ratio of the  <strong>numbers</strong> with
(a)&nbsp;blue eyes and (b)&nbsp;both blonde hair 
and blue eyes.</p>
<p class=eqn><img class="gif" src="../../en/prob/images/conditProbEx2.gif" width="195" height="36"></p>
	<p>However we can equivalently write the conditional proportion as the ratio of a joint and marginal proportion:</p>
	<p class=eqn><img class="gif" src="../../en/prob/images/conditProbEx3.gif" width="195" height="36"></p>
	<p>The general definition of the conditional proportions for <i><span class="black">Y</span></i> given that the value of <i><span class="black">X</span></i> is <span class="em black">x</span>  therefore </p>
	<div class="centred"><table width="40%" border="1" class="centred" cellpadding="10" cellspacing="0" style="background-color:#FFFFFF">
		<tr>
			<td align="center"><img class="gif" src="../../en/prob/images/conditProbDefn.gif" width="91" height="39"></td>
		</tr>
	</table></div>
	<p class="heading">Conditional proportions in contingency tables</p>
	<p>In a contingency table, it is usually possible to treat one of the two variables (corresponding to rows or columns) as splitting the individuals into groups. The distribution of the other variable within each such group is called a <strong>conditional </strong>distribution. If the variables are called <em>X</em> and <em>Y</em>, 
  	we can  either</p>
  <ul>
    <li>compare the distributions of <em>Y</em> for each possible value of <em>X</em> 
    </li>
    <li>compare the distributions of <em>X</em> for each possible value of <em>Y</em></li>
  </ul>
	
  <p>These are called the <strong>conditional distributions</strong> of <em>Y</em> 
    given <em>X</em>, and the <strong>conditional distributions</strong> of <em>X</em> given <em>Y</em>, and we can compare them using proportions within 
    the groups  to make comparisons easier. The conditional proportions are found 
    by dividing each frequency in the table by its row (or column) total. This 
    scales each row (or column) of the table to sum to 1.0.</p>

  <div class="diagram"> 
    <p class="heading">Rank and age in a university</p>
    <p>The following contingency table again shows the rank and age of all academic 
      staff in a university in the USA.</p>
    <div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="240">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.ContinTable2Applet">
<param name="xVarName" value="Age">
<param name="xLabels" value="#Under 30# #30 to 39# #40 to 49# #50 and over#">
<param name="xValues" value="68@0 402@1 348@2 346@3">
<param name="yVarName" value="Rank">
<param name="yLabels" value="#Full prof# #Assoc prof# #Assist prof# Instructor">
<param name="yValues" value="2@0 3@1 57@2 6@3 52@0 170@1 163@2 17@3 156@0 125@1 61@2 6@3 220@0 83@1 39@2 4@3">
<param name="vertScale" value="0 1 2">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within#Display=Display#Separately for each=Separately for each">
</applet>
</div>

    
    <p>Select <strong>Proportion</strong> from the pop-up menu  to see the conditional distributions for each <em>Age group</em>. In effect, this scales the frequencies in each row of the contingency table to add to 1.0. Click on the row for <em>Under 30</em> to see how the conditional proportions are obtained by dividing the joint frequencies by the marginal frequency for <em>Under 30</em>.</p>
    <p>Now choose <strong>Rank</strong> from the pop-up menu on the right to see the conditional distributions for each <em>Rank</em>. Click on columns to see how these conditional proportions are obtained from the joint frequencies.</p>
  </div>

  <p class="heading">Graphical displays of conditional distributions</p>

  <p>The conditional distributions can be shown graphically on a 3-dimensional 
    bar chart, but a clustered 2-dimensional display is usually easier to interpret. 
    Note however that several different types of clustered displays can be drawn 
    &mdash; they make it easier to compare different aspects of the distributions.</p>
  <ul>
    <li>Conditional probabilities for <em>X</em> given <em>Y</em> or <em>Y</em> 
      given <em>X</em>.</li>
    <li>Clustered by <em>Y</em> or <em>X</em>.</li>
  </ul>
	
	<br>
	
  <div class="diagram"> 
    <p class="heading">Rank and age</p>

    <p>The clustered bar chart below initially shows the joint frequencies for all combinations of 
    age and rank.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Age (X)">
<param name="xLabels" value="#Under 30# #30 to 39# #40 to 49# #50 and over#">
<param name="xValues" value="68@0 402@1 348@2 346@3">
<param name="yVarName" value="Rank (Y)">
<param name="yLabels" value="#Full prof# #Assoc prof# #Assist prof# Instructor">
<param name="yValues" value="2@0 3@1 57@2 6@3 52@0 170@1 163@2 17@3 156@0 125@1 61@2 6@3 220@0 83@1 39@2 4@3">
<param name="countAxis" value="250 50">
<param name="propnAxis" value="0.85 0.1">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0 1">
<param name="stackable" value="false">
<param name="vertScale" value="0 1 2">
<param name="showPercentages" value="false">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within#Display=Display">
</applet>
</div>

<p>First select <strong>Rank</strong> from the pop-up menu under the bar chart to 
cluster the bars by rank. The total number of <em>instructors</em> is small, so it is difficult to campare the ages of <em>instructors</em> to those of the other ranks. Select <strong>Propn within Rank</strong> from the pop-up menu at the top to display the conditional distributions of age within rank. It effectively scales each rank's bars to give the same total (1.0).</p>
<div class="centred"><div class="boxed">
  <p>It is now easy to see that the age distributions of <em>assistant professors</em> and <em>instructors</em> are very similar, but both are different from those of <em>associate</em> and <em>full professors</em>.</p>
</div></div>

<p>Select <strong>Frequency</strong> and <strong>Age</strong> from the two menus to show the raw counts, clustered by age. Select <strong>Propn within Age</strong>  to 
  display the conditional distributions of the ranks of staff who are in each age group.</p>
<div class="centred"><div class="boxed">
  <p>This diagram emphasises the spike in <em>assistant professors</em> for the youngest staff, and the increasing proportion of<em> associate </em> and <em>full professors</em> as staff get older.</p>
</div></div>

<br>
</div>
  <p class="heading">Conditional probabilities</p>
<p>Conditional distributions were described above in terms of proportions from sample data. Similar definitions hold when describing populations with the word &quot;proportion&quot; replaced by &quot;probability&quot;. In particular, the conditional probabilities for <i><span class="black">Y</span></i>, given <span class="em black">X</span> &nbsp;=&nbsp;<span class="em black">x</span>  are given by the ratio of a joint probability and a marginal probability,</p>
<p class="eqn"><img class="gif" src="../../en/prob/images/conditProbDefn.gif" width="91" height="39"></p>
<p>The conditional probabilities for <i><span class="black">Y</span></i>, given 
	<span class="em black">X</span> &nbsp;=&nbsp;<span class="em black">x</span> , 
	can therefore be found by rescaling of that row of the table of joint probabilities 
	(dividing by <span class="em black">p<sub>x</sub></span> ) 
	so that the row sums to 1.0, as shown in the diagram below. </p>

<p class=eqn><img class="gif" src="../../en/prob/images/conditCalc.gif" width="395" height="294"></p>

<div class="diagram">
	<p class="heading">Rank and age</p>
	<p>Consider the data above about the ages and ranks of academic staff members at a US university. If a full professor is chosen at random from the staff,  the probability that the person is under 30 is a conditional probability. Since there were 2 people under 30 out of the 430 full professors,</p>
<p class="eqn">P(Under 30 | Full professor) &nbsp; = &nbsp; <sup>2</sup>/<sub>430</sub></p>
	<p>In terms of the marginal and conditional probabilities, this could also be expressed as</p>
	<p class="eqn">P(&lt;30 | Full prof) &nbsp; = &nbsp; P(&lt;30 <strong>and</strong> Full prof)&nbsp;/&nbsp;P(Full prof) &nbsp; = &nbsp; (<sup>2</sup>/<sub>1164</sub></span>) / (<sup>430</sup>/<sub>1164</sub>)</p>
	<p>Similarly, if a staff member under 30 is randomly chosen, the probability of the person being a full professor is</p>
	<p class="eqn">P(Full professor | Under 30) &nbsp; = &nbsp; <sup>2</sup>/<sub>68</sub></p>
</div>
<p class="heading">Two sets of conditional probabilities</p>
<p>Note that there is an equivalent formula for conditional probabilities for 
<i><span class="black">X</span></i> given the value of <i><span class="black">Y</span></i> 
that corresponds to using the other variable to define the sub-population. When 
we restrict attention to population values for which <span class="em black">Y</span> &nbsp;has 
the value <span class="em black">y</span> , the conditional probabilities 
for <span class="em black">X</span>  are</p>

<p class=eqn><img class="gif" src="../../en/prob/images/conditProb2Defn.gif" width="90" height="42"></p>

<p>You should be careful to distinguish between <span class="black"><em>p</em><sub><em>x</em> | <em>y</em></sub></span> and <span class="black"><em>p</em><sub><em>y</em> | <em>x</em></sub></span>.</p>

<div class="boxed"><p>The probability of being pregnant, given that a randomly 
selected person is female would be fairly small. The probability of being female, 
given that a person is pregnant is 1.0&nbsp;!!</p></div>

<br>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
