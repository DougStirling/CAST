<!DOCTYPE HTML>
<html>
<head>
	<title>Bivariate categorical data</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="association, bar chart, clustered bar chart">
	<meta name="dataset" content="Drug testing of PO applicants">
	<meta name="dataset" content="Stereos and musical instruments">
	<meta name="dataset" content="Response rates to questionnaire">
	<meta name="dataset" content="Rank and age in a university">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Groups and explanatory variables</p>
  
  <p>It was <a href="javascript:showNamedPage('structures3')">explained earlier</a> that  data from different groups can be combined in a single data matrix with a categorical variable that gives group membership. In a similar way, a categorical variable can be used to split a data set into groups.</p>
  <p>In some data sets,   one categorical variable can be thought of as a <strong>response</strong> whose values are thought to depend on a second categorical variable &mdash; an <strong>explanatory </strong>variable. We can then  think of the explanatory variable as defining different groups and ask how the response distribution differs between the groups.</p>

<div class="boxed">
    <p>Do not  use the response variable to define the groups.</p>
</div>
<br>
	
  <div class="diagram"> 
    <p class="heading">Drug screening of job applicants</p>
    
<p>Urine drug screening that was performed on <a href="javascript:showNamedPage('groupedCat1')">2537 
applicants for postal jobs.</a> Among the categorical variables measured from 
each applicant were the type of drug detected (if any) and the applicant's gender. 
The contingency table below shows these data.</p>
    <div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
      <tr> 
        <th>&nbsp;</th>
        <th>Negative</th>
        <th>Marijuana</th>
        <th>Cocaine</th>
        <th>Other drugs</th>
        <th>Total</th>
      </tr>
      <tr> 
        <th align="left">Male</th>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-left:1px solid #999999;">1465</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">146</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">33</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-right:1px solid #999999;">28</td>
        <td align="center">1672</td>
      </tr>
      <tr> 
        <th align="left">Female</th>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-left:1px solid #999999;">764</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">52</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">22</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-right:1px solid #999999;">27</td>
        <td align="center">865</td>
      </tr>
    </table></div>

    <p>In this data set, the result of the drug test is the response and gender is the explanatory variable &mdash;  it is possible for gender 
to affect the type of drug detected, but not the reverse (!).</p>
    <p>We can therefore use the methods in the previous section to compare the distributions for males and females. For example, the following table shows the <strong>percentages within each gender group</strong>.</p>
    <div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
      <tr>
        <th>&nbsp;</th>
        <th>Negative</th>
        <th>Marijuana</th>
        <th>Cocaine</th>
        <th>Other drugs</th>
        <th>Total</th>
      </tr>
      <tr>
        <th align="left">Male</th>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-left:1px solid #999999;">87.6</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">8.7</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">2.0</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-right:1px solid #999999;">1.7</td>
        <td align="center">100.0</td>
      </tr>
      <tr>
        <th align="left">Female</th>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-left:1px solid #999999;">88.3</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">6.0</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">2.5</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-right:1px solid #999999;">3.1</td>
        <td align="center">100.0</td>
      </tr>
    </table></div>
    <p>From this table, it can be seen that the differences between males and females are fairly small.</p>
    <p>It is however <strong>unhelpful to treat the drug result as defining the groups</strong>. For example, the percentages in the following table are much harder to interpret and compare.</p>
    <div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
      <tr>
        <th>&nbsp;</th>
        <th>Negative</th>
        <th>Marijuana</th>
        <th>Cocaine</th>
        <th>Other drugs</th>
      </tr>
      <tr>
        <th align="left">Male</th>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-left:1px solid #999999;">65.7</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">73.7</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">60.0</td>
        <td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-right:1px solid #999999;">50.9</td>
      </tr>
      <tr>
        <th align="left">Female</th>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-left:1px solid #999999;">34.3</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">26.3</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">40.0</td>
        <td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-right:1px solid #999999;">49.1</td>
      </tr>
      <tr>
        <th align="left">Total</th>
        <td align="center">100.0</td>
        <td align="center">100.0</td>
        <td align="center">100.0</td>
        <td align="center">100.0</td>
      </tr>
    </table></div>
  </div>

  <p class="heading">Bivariate data without an explanatory variable</p>
  <p>Not all data sets have  variables that can be categorised as a response and an explanatory variable. Sometimes the relationship between the variables 
    is more symmetrical but we still want to discover whether particular values of one variable are <strong>associated</strong> with values of the other.</p>
  <div class="diagram"> 
    
<p class="heading">Customer ratings of two product ranges</p>
    
<p>A company selling both quality stereo systems and musical instruments is interested 
in how its reputation for one product line is related to its reputation for the 
other. A sample of 543 persons is asked to rate each in a three-point scale and 
the contingency table below shows the relationship between these two ordinal categorical 
variables.</p>
<div class="centred"><table border="0" class="centred" cellpadding="5" cellspacing="0">
<tr> 
<th>&nbsp;</th>
<th>&nbsp;</th>
<th colspan="3">Rating of stereo products</th>
</tr>
<tr> 
<th colspan="2">Rating of instruments</th>
<th><span class="darkred">Below ave</span></th>
<th><span class="darkred">Average</span></th>
<th><span class="darkred">Above ave</span></th>
</tr>
<tr> 
<th rowspan="4" align="left">&nbsp;</th>
<th align="left"><span class="darkblue">Below average</span></th>
<td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-left:1px solid #999999;">105</td>
<td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999;">7</td>
<td align="center" bgcolor="#FFFFFF" style="border-top:1px solid #999999; border-right:1px solid #999999;">11</td>
</tr>
<tr> 
<th align="left"><span class="darkblue">Average</span></th>
<td align="center" bgcolor="#FFFFFF" style="border-left:1px solid #999999;">58</td>
<td align="center" bgcolor="#FFFFFF">5</td>
<td align="center" bgcolor="#FFFFFF" style="border-right:1px solid #999999;">13</td>
</tr>
<tr> 
<th align="left"><span class="darkblue">Above average</span></th>
<td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-left:1px solid #999999;">84</td>
<td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999;">37</td>
<td align="center" bgcolor="#FFFFFF" style="border-bottom:1px solid #999999; border-right:1px solid #999999;">42</td>
</tr>
</table></div>
    
<p>This relationship is not causal &mdash; both variables have similar status. However 
it is reasonable to ask whether good ratings of the stereo products tend to be 
<strong>associated</strong> with good ratings of the stereo products.</p>
</div>

  <p class="heading">Graphical display</p>

  <p>Clustered bar charts can again be used to graphically display bivariate categorical data. The bars 
  	can be clustered by either variable and it is often informative to examine both 
 	of these displays.</p>
  <p>Where proportions or percentages are used rather than frequencies it is usual to have bars of the same colour adding to 100%.</p>
  <div class="diagram"> 
<p class="heading">Rank and age</p>

<p>The clustered bar chart below again shows the rank and ages of academic staff in a university 
in the USA. The bar heights are the contingency table cell frequences, but an alternative would be to use percentages within either age or rank.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Age">
<param name="xLabels" value="#Under 30# #30 to 39# #40 to 49# #50 and over#">
<param name="xValues" value="68@0 402@1 348@2 346@3">
<param name="yVarName" value="Rank">
<param name="yLabels" value="#Full prof# #Assoc prof# #Assist prof# Instructor">
<param name="yValues" value="2@0 3@1 57@2 6@3 52@0 170@1 163@2 17@3 156@0 125@1 61@2 6@3 220@0 83@1 39@2 4@3">
<param name="countAxis" value="230 50">
<param name="propnAxis" value="0.15 0.02">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0 1">
<param name="stackable" value="false">
<param name="vertScale" value="0">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>The bars are initially clustered by age group, allowing us to compare the distribution of rankss 
for different ages.</p>
<p>Select the option <strong>Rank</strong> from the pop-up menu to cluster the 
bars by rank, allowing us to compare better the age distributions for the different 
ranks. </p>
</div>



<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
