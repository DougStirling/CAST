<!DOCTYPE HTML>
<html>
<head>
	<title>Log transform for const variance</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="curvature, nonlinear relationship, nonlinear model, transformations, outliers">
	<meta name="dataset" content="Slug weight and length">
</head>


<body style="background-color:#FFE1B6">
<script type="text/javascript">writePageStart();</script>


<p class="heading">Transforming Weight for Constant Variance </p>

<p>We previously transformed slug length to linearise the relationship. However 
	transforming an explanatory variable cannot fix problems with non-constant 
	variance. In order to obtain constant variance, the <strong>response</strong> 
	variable must be transformed.</p>

  <p>We initially thought that slug weight might be proportional to (length)<img src="images/super3.gif" width="7" height="10" align="BASELINE">. 
	This can be generalised and rewritten as follows:</p>

<p class=eqn>
<img src="images/logModel.gif" width="240" height="57" alt="log(wt) = log(a) + p log(len)">
</p>

  <p>If this model holds, log(wt) will be linearly related to log(len). Indeed, 
	this model will allow us to test whether the appropriate power is <i>p</i>&nbsp;=&nbsp;3.</p>

<p class="red bold">We will use logarithms to the base 10 here since 
	they are slightly easier to understand for non-mathematicians, but natural 
	logarithms (base e) could be used everywhere instead. The main change would 
	be in the labelling on the axes.</p>

<div align="center">
<script type="text/javascript">startApplet("loessProg.ResidualLogPlotApplet", 650, 300, "", "FFE1B6");</script>
<param name="xVarName" value="len">
<param name="yVarName" value="wt">
<param name="xValues" value="7.3 7.8 7.5 6.9 6.0 7.4 8.5 8.6 8.2 8.5 7.0 4.3 3.2 4.7 4.2 9.0 4.6 3.8 4.0 3.9 3.2 1.0 4.1 6.1 4.2 4.4 5.6 5.7 1.7 4.5 4.5 3.5 2.0 2.9 2.1 2.6 2.6 3.6 1.6 3.5 3.6 2.2 2.4 4.2 3.3 3.9 5.6 4.6 2.2 1.2 2.7 3.4 3.2 2.3 2.8 1.4 2.2 1.7 1.0 2.3 3.5 2.9 2.6 2.1 1.6 1.6 2.0 7.5 7.8 2.2 6.1 5.9 7.8 9.0 9.3 7.1 9.4 8.5 8.5 2.4 2.5 5.7 4.5 1.0 1.0 1.0 1.1 1.9 1.6 3.1 2.3 1.9 1.8 2.3 2.5 3.3 4.2 2.1 9.0 9.4">
<param name="yValues" value="3.68 5.48 4.94 3.47 3.26 4.36 6.44 8.37 6.40 8.23 4.99 1.69 0.39 2.14 1.07 8.75 1.02 1.07 0.88 0.76 0.48 0.04 0.98 3.34 1.02 1.10 2.35 3.93 0.10 0.65 1.64 0.50 0.12 0.40 0.14 0.35 0.29 0.88 0.12 0.66 0.62 0.17 0.25 2.28 1.26 2.20 4.78 3.27 0.20 0.09 0.30 0.52 0.47 0.19 0.28 0.08 0.18 0.13 0.06 0.20 0.60 0.39 0.31 0.16 0.06 0.04 0.16 4.94 5.48 0.36 3.16 1.91 8.44 13.62 8.70 4.39 8.23 6.30 6.06 0.24 0.27 2.04 1.30 0.03 0.03 0.02 0.03 0.14 0.08 0.03 0.18 0.10 0.09 0.23 0.26 0.71 0.85 0.18 12.00 11.22">
<param name="horizAxis" value="0.99 10.01 2 2 1">
<param name="vertAxis" value="0.01 15 5 5 0.01 0.1 1">
<param name="transXAxis" value="(200,-2) (500,-2)">
<param name="maxXTransformed" value="0.0 1.0">
<param name="transYAxis" value="(200,0) (500,0)">
<param name="maxYTransformed" value="-1.00 1.00">
<param name="residAxis" value="-1.5 0.5 -1.5 0.5">
<param name="betaExtremes" value="3 2 -9.99 3 2 9.99">
<param name="change1" value="#89 3.1 *#">
<param name="fitResidDecimals" value="3">
</applet>
</div>

<p>The scatterplot of log(wt) against log(len) on the left seems fairly linear and
the standard deviation of log(wt) is a lot closer to being the same for all lengths of
slug. A linear model relating log(wt) to log(len) therefore seems to satisfy both the
requirements of linearity and constant variance.
</p>

<p>The least squares line is also displayed on the diagram and a plot of the residuals
is shown on the right.
</p>

  <p class="heading">The Outlier </p>

<p>One cross on the scatterplot lies unusually far from the least squares line and
the corresponding residual is very far from zero. <span class="instruction">Click on this
cross to display the actual weight of the slug and the weight that is predicted from
the model.</span> This slug's weight is about a tenth of its predicted weight and the
weights of other slugs with similar length. It is undoubtedly a typographic error
&mdash; perhaps its weight should have been entered as 0.3 grams instead of 0.03 grams?
Or maybe its length should have been 1.3cm instead of 3.1cm?
</p>

<p>We cannot correct the data for this slug, so the only remedy is to delete the observation.
<span class="instruction">Click <strong>Delete Outlier</strong> to remove the point.</span>
Since the outlier's length is fairly average, it does not have much leverage
and therefore does not affect the least squares line much. (If the outlier had
been either a very short or long slug, it would have affected the slope of the
least squares line far more.)
</p>
	
<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
