<!DOCTYPE HTML>
<html>
<head>
	<title>Histograms with varying class widths</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="histogram">
	<meta name="dataset" content="Ages of cars in New Zealand">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Combining histogram classes</p>
	<p>In  simple histograms, all classes have had the same width, but this is 
		not essential. Histograms can be drawn with mixed class widths. Indeed, 
		a histogram can be drawn corresponding to any choice of classes, but drawing  a histogram with mixed class widths is harder.</p>
	<div class="centred"><div class="boxed">
	  <p> The vertical axis of a histogram with mixed class widths must <span class="red">not</span> be 'frequency'.</p>
  </div></div>
<p>The problem is explained most clearly in an example.</p>

<div class="diagram">
<p class="heading">Ages of New Zealand cars in 2006</p>
<p>Each year, Land Transport New Zealand publishes a frequency table describing 
the age distribution of cars that have been registered. The following is an extract 
from the table. Note that the ages are grouped into classes for the oldest cars. 
(Although the top class is '51 and over', we will treat it as '51-60' for the 
purpose of this illustration.)</p>
<div class="centred">
	<table border="0" class="centred" cellpadding="4" cellspacing="0">
		<tr>
			<th valign="bottom">Age in whole years</th>
			<th valign="bottom">Frequency</th>
		</tr>
		<tr>
			<td align="center" bgcolor="#FFFFFF" style="border:1px solid #999999; border-right:0px;"><table border="0" cellpadding="0" cellspacing="0" style="margin-top:0; margin-bottom:0">
				<tr>
					<td align="center">Under 1<br>
						1<br>
						2<br>
						3<br>
						4<br>
						5<br>
						...<br>
						40<br>
						41-50<br>
						51 and over</td>
				</tr>
			</table></td>
			<td align="center" bgcolor="#FFFFFF" style="border:1px solid #999999; border-left:0px;"><table border="0" cellpadding="0" cellspacing="0" style="margin-top:0; margin-bottom:0">
				<tr>
					<td align="right">76,483<br>
						79,783<br>
						76,828<br>
						76,650<br>
						73,396<br>
						75,822<br>
						...<br>
						3,856<br>
						19,832<br>
						15,816</td>
				</tr>
			</table></td>
		</tr>
		<tr>
			<th>Total</th>
			<th>2,726,403</th>
		</tr>
	</table>
</div>
<p>The histogram below initially uses
the frequencies of the classes to define the heights of the corresponding rectangles.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="dynamicProg.GroupHistogramApplet">
<param name="varName" value="Number of cars (000)">
<param name="values" value="76.483 79.783 76.828 76.650 73.396 75.822 84.834 104.074 130.580 195.291 253.931 196.352 189.968 153.880 167.894 142.723 136.458 115.495 77.651 55.692 43.367 35.247 26.558 15.380 12.150 9.701 8.016 6.917 6.385 4.704 4.651 5.299 7.831 7.238 6.926 5.929 5.607 4.077 3.384 3.747 3.856 19.832 15.816">
<param name="xAxisName" value="Age of registered cars">
<param name="xAxis" value="-1.0 61 0 10">
<param name="freqAxis" value="0 400 0 50">
<param name="unitClassWidth" value="1">
<param name="classBoundary" value="0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 51 61">
<param name="grouping" value="0-4">
<param name="groupCheckName" value="Group ages 0-4">
<param name="densityAxisName" value="Cars per year (000)">
<param name="customText" value="Correct diagram=Correct diagram#Misleading=Misleading">
</applet>
</div>

<p>This histogram adequately describes the cars aged 40 and younger, but it gives 
the misleading impression of a bulge in ownership of cars aged 41 and over. To see what has happened, click the checkbox <strong>Group 
ages 0-4</strong> to combine the first five classes. If the height of the rectangle 
for this combined class is its frequency, then it becomes almost 5 times as high 
as before.</p>
<p>The solution is to divide the total frequency for the combined class by the 
number of years, so the height is the <strong>average frequency per year</strong> 
instead of the raw frequency. Click <strong>Correct diagram</strong> to do this. 
Now the visual appearance remains roughly the same when classes are combined.</p>
</div>

	<p class="heading">Why use mixed class widths?</p>
	<p>When all class widths are the same, frequencies can be written on the vertical 
		axis, simplifying interpretation. If possible, histograms should therefore 
		be drawn with constant class widths.</p>
	<p>However the goal of smoothness can sometimes be attained better by using 
		narrower classes in regions of high density.</p>
	<div class="diagram">
		<p>The histogram below shows a skew data set.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="450" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="histoProg.HistoSwap4Applet">
<param name="varName" value="weight">
<param name="values" value="4.036 1.340 1.818 1.959 1.732 2.751 1.399 1.492 3.535 5.709 5.210 4.631 8.134 3.312 4.729 7.350 13.357 22.472 7.758 3.817 8.886 0.355 6.748 3.286 10.108 5.150 1.529 4.137 6.359 5.968 3.143 15.935 4.936 4.549 14.069 14.555 3.821 8.613 13.125 1.380 2.193 5.902 5.294 2.465 3.158 1.586 3.549 6.279 1.039 6.886 3.125 2.595 7.797 11.770 5.716 3.087 6.595 3.217 20.553 5.845 4.182 2.767 6.699 5.318 2.366 8.288 10.367 11.169 8.523 2.413 13.998 2.246 3.945 3.252 9.668 20.345 6.330 13.163 5.130 5.351 8.432 8.451 29.424 3.678 1.340 2.565 8.021 4.386 10.585 6.036 7.892 5.903 4.977 1.931 17.227 5.350 6.256 5.018 4.704 11.287">
<param name="horizAxis" value="-1 40 0 5">
<param name="classInfo" value="0.0 2.0">
<param name="groupingInfo" value="1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1">
<param name="grouping2Info" value="4 4 4 4 4">
<param name="grouping3Info" value="1 1 1 1 2 2 4 8">
<param name="groupingNames" value="#All classes wide# #All classes narrow# # Mixed classes#">
<param name="densityAxis" value="0 0.125 1 1">
<param name="lines" value="vert">
<param name="axisType" value="density">
</applet>
</div>

		<p>Although the histogram is fairly smooth on the left of the axis with narrow 
			classes, it becomes more jagged at higher values where the density is lower. 
			However increasing all class widths to smooth the higher classes leaves 
			the histogram blocky on the left. (Select <strong>All classes wide</strong> from the pop-up menu.)</p>
		<p>Select <strong>Mixed classes </strong> from the pop-up menu and observe 
			that it gives a smoother picture of the distribution.</p>
	</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
