<html>
<head>
	<title>Bar charts using proportions</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="proportion, percentage, bar chart, clustered bar chart">
	<meta name="dataset" content="Blood groups and race">

	<meta name="dataset" content="Drug dealing and race">
</head>


<body>
<script type="text/javascript">addPageControls();</script>


<p class="heading">Proportions within groups</p>

<p>Although a contingency table fully describes categorical data from two or more 
groups, it is a poor way to compare the distributions if there are different total 
numbers in the groups.</p>
<p>Rather than tabulating the frequencies for each group, it is more informative 
to tabulate the <strong>proportions within the groups</strong>. Each frequency 
in the table is therefore divided by the <strong>total for that group</strong>.</p>
<p>For example, in the drug-screening example on the previous page, 94 smokers 
tested positive for marijuana but 103 non-smokers tested positive. However since 
there were many more non-smokers than smokers, it is more meaningful to report 
that a proportion <sup>94</sup>/<sub>825</sub> = 0.114 of the smokers tested positive 
whereas only <sup>103</sup>/<sub>1708</sub> = 0.060 of the non-smokers were positive.</p>
<div class="diagram">
<p class="heading">Blood type and race</p>

<p>In a study of racial differences in blood types, blood specimens from the Blood 
Bank of Hawaii were classified by blood type (O, A, B and AB) and by ethnic group 
(Hawaiian, Hawaiian-white, Hawaiian-Chinese and White). The contingency table 
below describes the data.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="240">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.ContinTable2Applet">
<param name="xVarName" value="Ethnic group">
<param name="xLabels" value="#Hawaiian# #Hawaiian-white# #Hawaiian-chinese# White">
<param name="xValues" value="4670@0 9982@1 5385@2 125020@3">
<param name="yVarName" value="Blood type">
<param name="yLabels" value="O A B AB">
<param name="yValues" value="1903@0 2490@1 178@2 99@3 4469@0 4671@1 606@2 236@3 2206@0 2368@1 568@2 243@3 53759@0 50008@1 16252@2 5001@3">
<param name="vertScale" value="0 1">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within#Display=Display">
</applet>
</div>

<p>Differences between the ethnic groups are clearer if the <strong>proportions</strong> 
of each blood type are displayed within each ethnic group. These proportions are 
found by dividing each row of the table by its row total &mdash; <strong>click on any 
row</strong> to see the process.</p>
<p>Select the option <strong>Propn within Ethnic group</strong> from the pop-up 
menu to display the resulting proportions. This scales each row, making all row 
totals the same, 1.0.</p>
		<center>
			<table border="1" cellspacing="0" cellpadding="10" bgcolor="white" width="75%">
				<tr> 
					<td><div class="centred"><strong>Observe that a larger proportion of 
							Hawaiian-chinese and Whites have blood types B and AB than the other 
							ethnic groups.</strong></div></td>
				</tr>
			</table>
		</center>
		<p>Multiplying the proportions by 100 rewrites them as percentages. Select 
			<strong>Percent within Ethnic group</strong> to display these percentages. 
			Although percentages and proportions contain the same information, the leading 
			zeros and decimal points are absent in the percentages and this 'cleaner' 
			display makes it easier to compare the ethnic groups.</p>
</div>

<p class="heading">Bar charts of proportions</p>

<p>Bar charts provide a graphical way to compare groups. Although the bar chart 
of each group has the same shape whether it is based on frequencies or proportions, 
comparisons are made more easily if proportions are used, especially when the 
groups are of different sizes.</p>

<div class="diagram">
<p class="heading">Drug dealing</p>

<p>In a 1994 report from the US Department of Justice, federal prisoners who had 
been convicted of drug dealing were classified by race and by the type of drug 
involved. The diagram below shows the data.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Race">
<param name="xLabels" value="White Black Hispanic">
<param name="xValues" value="7863@0 8550@1 11634@2">
<param name="yVarName" value="Drug offence">
<param name="yLabels" value="Heroin Crack Cocaine Marijuana">
<param name="yValues" value="407@0 106@1 4525@2 2825@3 1156@0 2513@1 4439@2 442@3 1314@0 348@1 7297@2 2675@3">
<param name="countAxis" value="8000 2000">
<param name="propnAxis" value="0.7 0.1">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0">
<param name="stackable" value="false">
<param name="vertScale" value="0 1">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>From bar charts of the counts, various differences between the racial groups 
are evident. But <strong>should you conclude that convicts of Hispanic origin 
are more likely to have been caught for dealing Cocaine than the other races?</strong></p>
		<p>Select <strong>Propn within Race</strong> or <strong>Percent within Race</strong> 
			from the pop-up menu. The effect is to scale each bar chart to have the 
			same total (1.0 or 100). It can now be seen that a similar proportion of 
			those convicted of drug offences were dealing Cocaine in all groups. (The 
			proportion is still slightly higher for Hispanics, but the differences are 
			relatively small.)</p>
<p><strong>What are the main differences between the racial groups?</strong></p>
</div>


<p class="heading">Clustering the bars</p>

<p>If the groups correspond to different rows of a table that shows proportions 
within groups (so the row totals are 1.0), the most important comparisons are 
down columns. For example, we would scan down the 'Crack' column in the table 
above to compare the proportions convicted of dealing with that drug in the different 
groups.</p>
<p>When separate bar charts are drawn for the different groups, the corresponding 
bars are widely separated in the diagram, making comparisons harder. An alternative 
display uses the same bars, but clusters them by the values of the categorical 
variable, rather than by groups. This type of clustered bar chart makes it easier 
to spot subtle differences between the groups.</p>
<div class="diagram">
<p class="heading">Blood type and race</p>

<p>The diagram below shows bar charts of the proportions of different blood types 
in Hawaii in four ethnic groups.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Ethnic group">
<param name="xLabels" value="#Hawaiian# #Haw-white# #Haw-chinese# White">
<param name="xValues" value="4670@0 9982@1 5385@2 125020@3">
<param name="yVarName" value="Blood type">
<param name="yLabels" value="O A B AB">
<param name="yValues" value="1903@0 2490@1 178@2 99@3 4469@0 4671@1 606@2 236@3 2206@0 2368@1 568@2 243@3 53759@0 50008@1 16252@2 5001@3">
<param name="countAxis" value="55000 10000">
<param name="propnAxis" value="0.6 0.1">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0 1">
<param name="stackable" value="false">
<param name="vertScale" value="1">
<param name="showPercentages" value="false">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>Comparing the proportions with any particular blood group between the ethnic 
groups is difficult because their bars are separated.</p>
<p>Select the option <strong>Blood type</strong> from the pop-up menu to cluster 
the bars by blood type. Observe that the greatest difference between the ethnic groups 
is in blood type B, though there are also noticeable differences between the proportions
in blood types A and AB.</p>
</div>

<script type="text/javascript">
	top.writeNextButton(document);
	showCopyright();
</script>

</body>
</html>
