<html>
<head>
	<title>AR(1) model for autocorrelation</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="autoregression model, forecasting">
	<meta name="dataset" content="New company registrations in NZ">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Predicting a value from the previous value</p>
	<p>If there is positive autocorrelation, large values tend to followed by other large 
    values and small values tend to be followed by other small values.</p>
	<p class=eqn><object data="images/yAgainstPrevious.svg" width="276" height="207"></object>
	</p>
	<p>Any value can therefore be predicted with a linear 
    equation of the form</p>
	<p class=eqn><span class="black"><em>y<sub>t</sub></em>&nbsp;&nbsp;=&nbsp;&nbsp;<em>b</em><sub>0</sub>&nbsp;&nbsp;+&nbsp;&nbsp;<em>b</em><sub>1 </sub><em>y<sub>t</sub></em><sub>&minus;1</sub></span> </p>
	<p>This model is a type of <strong>auto-regressive model</strong>, and is usually 
		called an <strong>AR(1) model</strong>. It can be used for forecasting one 
	time period ahead, as illustrated below.</p>
	
	<p class=eqn><object data="images/arForecastPlot.svg" width="376" height="206"></object></p>
	
	<p>The parameters can be estimated by least squares.</p>
	<p class="heading">Forecasting further into the future</p>
	<p>Direct application of the model only allows prediction one time period beyond 
		the end of the observed data.</p>
	<p class=eqn><span class="black"><span style="position:relative; top:4px"><img src="../../images/symbol.yHat.png" width="10" height="17"></span><em><sub>t</sub></em>&nbsp;&nbsp;=&nbsp;&nbsp;<em>b</em><sub>0</sub>&nbsp;&nbsp;+&nbsp;&nbsp;<em>b</em><sub>1 </sub><em>y<sub>t</sub></em><sub> &minus; 1</sub></span> </p>
	<p>However a similar equation can be applied <strong>to the forecast</strong> 
    to extend it another time period into the future, and so on.</p>
	<p class=eqn><span class="black"><span style="position:relative; top:4px"><img src="../../images/symbol.yHat.png" width="10" height="17"></span><em><sub>t</sub></em><sub> + </sub><em><sub>k</sub></em>&nbsp;&nbsp;=&nbsp;&nbsp;<em>b</em><sub>0</sub>&nbsp;&nbsp;+&nbsp;&nbsp;<em>b</em><sub>1 </sub><em><span style="position:relative; top:4px"><img src="../../images/symbol.yHat.png" width="10" height="17"></span><sub>t</sub></em><sub> + <em>k </em>&minus;1</sub></span> </p>
	
<div class="diagram">

<p class="heading">British Airways share trading</p>

		<p>The time series plot below shows the volume of British Airways shares (millions) traded 
    in the first 57 trading days of 2002 &mdash; between 2nd January and 21st March.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="600">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="timeProg.AR1NoTrendApplet">
<param name="varName" value="shares traded">
<param name="values" value="13.7 8.0 39.6 22.7 19.0 11.8 10.9 7.4 9.3 10.8 9.8 9.7 4.3 3.2 12.6 5.0 9.5 23.7 27.3 14.9 9.7 21.7 11.1 10.4 16.3 18.8 8.6 5.6 5.1 7.2 12.3 8.9 9.9 5.2 7.9 9.6 7.7 5.1 5.7 20.3 15.2 20.8 30.3 34.7 52.2 23.3 28.8 15.3 9.6 33.9 12.5 15.8 10.3 16.1 25.1 24.6 8.0 ? ? ? ? ? ? ? ? ? ?">
<param name="yAxis" value="0 60 0 10">
<param name="timeAxis" value="0 10 0 10">
<param name="labelAxes" value="true">
<param name="timeAxisName" value="Day">
<param name="timeSequence" value="0 1 67">
<param name="timeName" value="Day">
<param name="residAxis" value="0 60 0 10">
<param name="decimals" value="3 3 3 3">
<param name="maxAR1Params" value="10.000 -1.000">
<param name="customText" value="Predict with=Predict with#Zero=Zero#Previous=Previous#Forecast=Forecast#Least sqrs=Least sqrs#previous value=previous value">
</applet>
</div>

		
<p>The scatterplot under the time series shows the autocorrelation between successive values 
in this series. The line  on the scatterplot  predicts the volume of shares traded in any day from the previous day's value. Its parameters are initially set to use the previous day's value as the prediction.</p>
<p>Click <strong>Least squares</strong> to minimise the sum of squared residuals &mdash; i.e. to minimise the sum of squared prediction errors.</p>
<p>Click on the time series at day 44 &mdash; the highest value in the series. The green lines on the  scatterplot shows how the trading volume on day 43 (34.7 million shares) provides a forecast of the value on day 44 (24.25 million shares).</p>
<p>The red lines on the time series plot and also on the scatterplot show the forecasting error. Least squares minimises the sum of squares of these errors over all  days for which data is available.</p>
<p>Drag past the end of the available data (i.e. day 57 and later) to see how the same equation is used to forecast further into the future, but with each forecast based on the forecast on the previous day instead of the previous day's actual value.</p>
</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
