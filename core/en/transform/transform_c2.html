<!DOCTYPE HTML>
<html>
<head>
	<title>Log transformations</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="transformations">
	<meta name="dataset" content="OECD GDP">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Nonlinear transformations</p>

<p>There are several types of data where alternative units of measurement are not linearly
related. For example,
</p>

  <ul>
		<li>In Europe, the exchange rate with the US dollar is expressed as US$ per 
			Euro. In the US, the same exchange rate is expressed as Euros per US$, an 
			inverse transformation.</li>
		<li>The Richter scale transforms the measured intensity of earthquakes to 
			a logarithmic scale.</li>
		<li>Crude oil prices may be measured in dollars per litre, or litres per dollar, 
			another inverse relationship.</li>
	</ul>

<p>Nonlinear transformations of the values in a data set have a more fundamental effect on
the shape of the distribution, and this may be used to extract further information from the
data.
</p>

  
<div class="centred"><div class="boxed">
<p>Nonlinear transformation changes the shape of 
				a distribution.</p>
</div></div>


  <p class="heading">Logarithmic transformations</p>
	<p>The most commonly used nonlinear transformation replaces each value by its 
		logarithm,</p>
	<p class=eqn><span class="black"><strong>new value</strong> &nbsp; = log<sub>10</sub> <font size="+1">(</font><strong>old value</strong><font size="+1">)</font></span> </p>
	<p>We use base-10 logarithms in CAST since their values are easier to interpret, 
		but natural logarithms (base&nbsp;e) have a similar effect on the distribution 
		of values.</p>
	<p class="heading">Effect on the shape of a distribution</p>
	<p>Important properties of logarithms are</p>
	<ul>
		<li>Multiplying any value by 10 increases its logarithm by 1.</li>
		<li>In a similar way, doubling any value increases its logarithm by the same 
			constant</li>
	</ul>

	<p>Consider four values 1, 10, 100 and 1000. The first two values are much closer 
		to each other than the last two values. However their logarithms are 0, 1, 
		2 and 3, so their logarithms are evenly spaced out.</p>
	<p>As a result, a logarithmic transformation selectively spreads out low values 
		in a distribution and compresses high values. It is therefore useful for skew 
		data with a long tail towards the high values. It will spread out a dense 
		cluster of low values and may detect clustering or outliers that would not 
		be visible in graphical displays of the original data.</p>

<div class="diagram" title="Example: World GDP">
<p class="heading">World GDP</p>

<p>The dot plot below shows the Gross Domestic Product (GDP) of the 34 countries 
	in the OECD (Organisation for Economic Cooperation and Development) in 2012.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="450" height="200">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="transformProg.DotLabelApplet">
<param name="varName" value="GDP (billion dollars)">
<param name="values" value="1575.027 394.457 482.918 1821.446 266.41 196.446 315.164 22.376 247.143 2611.22 3425.955 248.424 124.6 13.586 210.638 257.621 2013.264 5937.763 1129.599 55.143 1181.63 770.066 171.468 500.03 489.853 212.14 91.349 45.38 1322.481 523.941 631.184 788.863 2461.768 16244.6">
<param name="labelName" value="Country (OECD)">
<param name="labels" value="Australia Austria Belgium Canada Chile #Czech Republic# Denmark Estonia Finland France Germany Greece Hungary Iceland Ireland Israel Italy Japan Korea Luxembourg Mexico Netherlands #New Zealand# Norway Poland Portugal #Slovak Republic# Slovenia Spain Sweden Switzerland Turkey #United Kingdom# #United States#">
<param name="horizAxis" value="0 17000 0 2000">
</applet>
</div>

<p><strong>Drag</strong> over the crosses to display the names of the countries.</p>
<p>The data set is so highly skewed that little can be determined about the 
	distribution of GDP in the smaller OECD countries</p>

    <hr width="85%">
<p>The problem becomes worse when the GDP of all countries in the world is 
	examined &mdash; a larger proportion of the countries have very low GDP that 
	cannot be distinguished in an ordinary dot plot.</p>
<p>The diagram below also shows a jittered dot plot of the 2012 GDP of all 
	countries in the world.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="transformProg.Log10Applet">
<param name="varName" value="GDP ($billion)">
<param name="values" value="16244.600 8358.400 5960.180 3425.956 2611.221 2471.600 2254.109 2029.812 2013.392 1875.213 1821.445 1564.419 1322.126 1183.655 1129.598 878.043 788.299 770.067 711.050 631.183 551.588 523.804 499.667 489.852 483.402 477.028 394.458 385.694 384.313 383.799 382.424 369.813 314.889 304.726 276.520 268.314 262.545 254.671 250.182 248.941 247.389 241.069 215.117 212.139 210.638 207.021 204.681 202.656 196.446 192.402 183.219 176.309 171.256 169.396 155.820 149.370 127.195 124.600 116.308 95.992 95.802 91.349 87.495 78.111 71.017 68.727 63.259 59.444 59.421 58.898 56.447 55.143 51.453 51.414 50.972 50.377 49.919 46.540 45.380 45.132 45.107 43.366 42.490 42.339 41.605 40.711 40.697 38.491 36.253 33.466 32.831 30.937 30.362 28.379 28.249 27.035 26.094 25.935 24.406 24.076 23.864 23.225 22.768 22.376 21.736 21.490 20.364 18.823 18.564 18.029 17.319 16.954 15.830 15.677 14.795 14.763 14.605 14.491 14.411 14.410 14.038 13.962 13.579 12.807 12.044 11.452 10.687 10.508 10.271 10.262 10.183 10.060 9.968 9.950 9.802 9.576 9.100 8.775 8.043 7.633 7.557 7.253 7.187 7.103 6.773 6.475 6.092 5.827 5.707 5.653 5.387 5.012 4.533 4.046 3.999 3.917 3.866 3.861 3.222 3.108 2.851 2.606 2.443 2.257 2.184 1.903 1.861 1.853 1.554 1.491 1.361 1.318 1.306 1.176 1.031 1.010 0.917 0.849 0.783 0.765 0.752 0.694 0.681 0.616 0.499 0.465 0.327 0.261 0.213 0.198 0.176 0.121 0.040">
<param name="labelName" value="Country (World)">
<param name="labels" value="#United States# China Japan Germany France #United Kingdom# Brazil Russia Italy India Canada Australia Spain Mexico #South Korea# Indonesia Turkey Netherlands #Saudi Arabia# Switzerland Iran Sweden Norway Poland Belgium Argentina Austria Thailand #South Africa# #United Arab Emirates# Venezuela Colombia Denmark Malaysia Singapore Chile Nigeria Egypt Philippines Greece Finland Israel Pakistan Portugal Ireland Algeria Peru Kazakhstan #Czech Republic# Qatar Kuwait Ukraine #New Zealand# Romania Vietnam Iraq Bangladesh Hungary Angola Morocco Libya Slovakia Ecuador Oman Cuba Azerbaijan Belarus Myanmar #Sri Lanka# #Dominican Republic# Croatia Luxembourg Sudan Uzbekistan Bulgaria Guatemala Uruguay Syria Slovenia Tunisia #Costa Rica# #Sierra Leone# Lebanon Lithuania Ethiopia Ghana Kenya Serbia Panama Turkmenistan Yemen Jordan Bahrain Latvia Tanzania Bolivia Cameroon Paraguay #Cote d'Ivoire# Gabon #El Salvador# #Trinidad and Tobago# Cyprus Estonia Uganda Zambia Afghanistan #Congo, Dem Rep# Honduras Nepal Bosnia Brunei Georgia #Papua New Guinea# Jamaica #Congo, Rep# Mozambique #Equatorial Guinea# #North Korea# Botswana Cambodia Senegal Iceland Namibia Albania Mauritius #Burkina Faso# Nicaragua Mongolia Mali Chad #South Sudan# Madagascar Armenia Zimbabwe #Macedonia# Laos Malta Bahamas Tajikistan Benin Moldova Haiti Rwanda Niger Kyrgyzstan Guinea Liechtenstein Monaco Malawi Timor-Leste Suriname Barbados Montenegro Fiji Togo Mauritania Swaziland Andorra Eritrea Guyana Maldives Lesotho Burundi #Central African Republic# #Cape Verde# Bhutan #San Marino# Belize Liberia Djibouti #Saint Lucia# Somalia #Antigua and Barbuda# Seychelles #Solomon Islands# #Gambia# Guinea-Bissau Grenada #Saint Kitts and Nevis# Vanuatu #Saint Vincent, Grenadines# Samoa Comoros Dominica Tonga #Micronesia# #Sao Tome and Principe# Palau #Marshall Islands# Kiribati Nauru Tuvalu">
<param name="horizAxis" value="0.035 17000 2000 2000">
<param name="logName" value="Log (GDP)">
<param name="logDecimals" value="3">
<param name="logAxis" value="0.035 170000 -1 1">
<param name="customText" value="Original scale=Original scale#Log scale=Log scale">
</applet>
</div>

		<p>A second axis is drawn under the plot labelling the values 1, 10, 100, 
			1000 and 10,000. These values are <strong>not</strong> evenly spaced and 
			the leftmost labels overlap. The axis above the dot plot shows the logarithms 
			of these five values (0, 1, 2, 3, and 4).</p>
		<p>Drag the slider under the diagram towards the right to change the display 
			into a dot plot of the <strong>logarithms</strong> of the brain weights. 
			The transformation turns the log axis above the plot into a conventionally 
			spaced axis.</p>
		<p>The transformation <strong>spreads out the dense cluster of countries with 
			low GDP in the original plot and compresses the long tail of countries with 
			high GDP</strong>. </p>

		<p>From the transformed data, we might conclude that:</p>

		<ul>
			<li>There are no distinct clusters of countries.</li>
			<li>The 3 countries with highest GDP (USA, China and Japan), despite having almost 
				twice the GDP of any other country, may be interpreted as the extreme 
				values in a very long-tailed distribution rather than as 'errors'. (There 
				is more than one type of outlier!)</li>
		</ul>
		<br>

		<hr width="85%">
		<p>To help explain the transformation, the diagram below shows only six of 
			the countries</p>
		<div class="centred"><table border="0" cellpadding="4" class="centred" cellspacing="0">
			<tr> 
				<th>Country</th>
				<th>GDP</th>
			</tr>
			<tr bgcolor="#FFFFFF"> 
				<td style="border-top:1px solid #999999;">USA</td>
				<td align="center" style="border-top:1px solid #999999;">16,245</td>
			</tr>
			<tr bgcolor="#FFFFFF">
				<td>South Korea</td>
				<td align="center">1,129</td>
			</tr>
			<tr bgcolor="#FFFFFF"> 
				<td>Angola</td>
				<td align="center">116.3</td>
			</tr>
			<tr bgcolor="#FFFFFF"> 
				<td>Mauritius</td>
				<td align="center">11.45</td>
			</tr>
			<tr bgcolor="#FFFFFF">
				<td>Antigua and Barbuda</td>
				<td align="center">1.176</td>
			</tr>
			<tr bgcolor="#FFFFFF"> 
				<td style="border-bottom:1px solid #999999;">Nauru</td>
				<td align="center" style="border-bottom:1px solid #999999;">0.121</td>
			</tr>
		</table></div>
		<p>These countries differ by approximately a factor of 10.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="transformProg.Log10Applet">
<param name="varName" value="GDP ($billion)">
<param name="values" value="16245 1129 116.3 11.45 1.176 0.121">
<param name="labelName" value="Country (World)">
<param name="labels" value="#United States# #South Korea# Angola Mauritius #Antigua and Barbuda# Nauru">
<param name="horizAxis" value="0.035 17000 2000 2000">
<param name="logName" value="Log (GDP)">
<param name="logDecimals" value="3">
<param name="logAxis" value="0.035 170000 -1 1">
<param name="jittering" value="0.0">
<param name="customText" value="Original scale=Original scale#Log scale=Log scale">
</applet>
</div>

		<p>Again <strong>drag the slider</strong> to apply a logarithmic transformation. 
			Observe that the four countries become evenly spaced on a log scale.</p>

</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
