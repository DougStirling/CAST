<!DOCTYPE HTML>
<html>
<head>
	<title>F test for regression of Y vs X and Z</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="linear model, f distribution, f test, f ratio, analysis of variance, hypothesis test">
	<meta name="dataset" content="Body fat">
	<meta name="dataset" content="Blood pressure of children and parents">
	<meta name="dataset" content="Test and assignment marks">
	<meta name="dataset" content="Aid to Africa">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Is there a relationship?</p>
  <p>We can use the explained and residual sums of squares to test whether there 
    is any relationship between the response and the explanatory variables.</p>
	<div class="centred"><table border="0" cellpadding="5" cellspacing="0" style="background-color:#FFFFFF" class="centred">
		<tr> 
      <th>Hypotheses</th>
      <th>Meaning</th>
    </tr>
    <tr>
      <td valign="middle"><img src="images/nullHypoth.gif" width="110" height="18"></td>
      <td>neither <em>X</em><sub>1</sub> nor <em>X</em><sub>2</sub> are related 
        to <em>Y</em></td>
    </tr>
    <tr>
      <td valign="middle"><img src="images/altHypoth.gif" width="162" height="18"></td>
      <td>there is some relationship between <em>Y</em> and the explanatory variables</td>
    </tr>
  </table></div>
	
  <p class="heading">Anova table</p>
  <p>As in simple linear models, we again form an analysis of variance table by 
    adding extra columns to the table of sums of squares.</p>
  <dl>
    <dt>Degrees of freedom</dt>
    <dd>The explained (regression) degrees of freedom are 2 since we are simultaneously 
      testing whether 2 parameters are zero. The total degrees of freedom remain 
      (<em>n</em>&nbsp;-&nbsp;1) so the degrees of freedom for the residual sum 
      of squares is (<em>n</em>&nbsp;-&nbsp;3).</dd>
    <dt>Mean sums of squares</dt>
    <dd>Dividing each sum of squares by its degrees of freedom gives its mean 
      sum of squares. The mean residual sum of squares is the best estimate of 
      the error variance, Ïƒ<sup>2</sup>, 
      irrespective of whether <strong>H<sub>0</sub></strong> or <strong>H<sub>A</sub></strong> 
      is true.</dd>
  </dl>
  <p class=eqn><img src="images/errorVarEst.gif" width="189" height="41" alt="MSSexplained and MSSresidual"> 
  </p>
  <dl>
    <dt>F ratio</dt>
    <dd>This is the ratio of the mean regression and residual sums of squares.</dd>
  </dl>
  <p>The full anova table is shown below.</p>
  <p class=eqn><img src="images/anovaTable.gif" width="520" height="138"></p>
  <p class="heading">P-value</p>
	
  <p>The properties of the F ratio allow it to be used as a test statistic. Its 
    distribution is know if the null hypothesis is true (i.e. if both slope parameters 
    are zero), but tends to be higher if one or other explanatory variable does 
    affect the response.</p>
  <p class=eqn><img src="images/fDistn.gif" width="366" height="55"> </p>
  <p>The p-value for the test is the probability of getting such a large F ratio 
    when <strong>H<sub>0</sub></strong> is true and is the upper tail area of 
    the F distribution</p>
	<p class=eqn><img src="images/fPvalueCalc.gif" width="355" height="115"> </p>
	
  <br>
	
  <div class="diagram">
    <p class="heading">Examples</p>

    <p>The diagram below applies the F test to a few data sets. Observe how the 
      F ratio is calculated and how the p-value and conclusion are obtained from 
      the tail area of an F distribution.</p>
    <div class="centred"> 
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="550">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="multiRegnProg.FTestDataApplet">
<param name="noOfDataSets" value="5">
<param name="dataName" value="Blood pressure of children and parents">
<param name="description" value="This data set contains the systolic blood pressures of the mother, father and first-born child from each of 20 families.">
<param name="question" value="There is extremely strong evidence that the blood pressures of children are affected by those of their parents.">
<param name="yVarName" value="Child BP">
<param name="xVarName" value="Mother BP">
<param name="zVarName" value="Father BP">
<param name="yValues" value="90 85 120 100 105 100 110 140 115 105 100 80 70 115 90 90 115 110 90 100">
<param name="xValues" value="130 125 140 110 145 160 120 180 120 130 125 110 90 120 150 145 130 155 110 125">
<param name="zValues" value="140 120 180 150 175 120 145 160 190 135 150 125 140 170 150 155 160 125 140 150">
<param name="yAxis" value="60 145 60 20">
<param name="xAxis" value="80 190 80 20">
<param name="zAxis" value="110 200 120 20">
<param name="dataName2" value="Body fat for 25 men">
<param name="description2" value="Body fat was measured using an underwater weighing technique from 251 men. This data set shows percentage body fat, abdomen circumference (cm) and height (cm) from 25 of the men.">
<param name="question2" value="It is almost certain that body fat is related to abdomen, height or both. The prob of such a high F is almost zero if body fat was unrelated to these variables.">
<param name="yVarName2" value="Body fat">
<param name="xVarName2" value="Abdomen">
<param name="zVarName2" value="Height">
<param name="yAxis2" value="0 40 0 10">
<param name="xAxis2" value="65 130 70 10">
<param name="zAxis2" value="63 76 65 5">
<param name="yValues2" value="12 16.5 9.4 31.3 5 24 13.2 18.6 14.3 21.7 21 17.9 15 20.1 24.5 22 16.5 16.8 23.8 22.6 11.3 15.1 16.9 28.8 28.3">
<param name="xValues2" value="88.6 100.5 83.5 108.1 70.4 98.3 84.6 98.6 86.5 94 92.3 87.5 87 106.6 106.8 92.4 90.8 104.5 101.2 89.7 84.4 88.7 93 100.5 111.5">
<param name="zValues2" value="73.5 73.5 69 67 66.75 65.75 71.5 69.25 73 72 69.25 72.25 69.75 75 70.25 71.5 69.5 74.5 68.25 67.5 70.75 69.25 68.5 65.75 66">
<param name="dataName3" value="Body fat for all 252 men">
<param name="description3" value="This is the complete data set of body fat measurements from all 252 men.">
<param name="question3" value="As for the sample of 25 men, it is almost certain that body fat is related to abdomen, height or both. The F ratio is higher with the larger data set so the evidence is even stronger.">
<param name="yVarName3" value="Body fat">
<param name="xVarName3" value="Abdomen">
<param name="zVarName3" value="Height">
<param name="yAxis3" value="0 40 0 10">
<param name="xAxis3" value="65 130 80 20">
<param name="zAxis3" value="63 76 65 5">
<param name="yValues3" value="12.6 6.9 24.6 10.9 27.8 20.6 19.0 12.8 5.1 12.0 7.5 8.5 20.5 20.8 21.7 20.5 28.1 22.4 16.1 16.5 19.0 15.3 15.7 17.6 14.2 4.6 8.5 22.4 4.7 9.4 12.3 6.5 13.4 20.9 31.1 38.2 23.6 27.5 33.8 31.3 33.1 31.7 30.4 30.8 8.4 14.1 11.2 6.4 13.4 5.0 10.7 7.4 8.7 7.1 4.9 22.2 20.1 27.1 30.4 24.0 25.4 28.8 29.6 25.1 31.0 28.9 21.1 14.0 7.1 13.2 23.7 9.4 9.1 13.7 12.0 18.3 9.2 21.7 21.1 18.6 30.2 26.0 18.2 26.2 26.1 25.8 15.0 22.6 8.8 14.3 20.2 18.1 9.2 24.2 9.6 17.3 10.1 11.1 17.7 21.7 20.8 20.1 19.8 21.9 24.7 17.8 19.1 18.2 17.2 21.0 19.5 27.1 21.6 20.9 25.9 16.7 19.8 14.1 25.1 17.9 27.0 24.6 14.8 16.0 14.0 17.4 26.4 17.4 20.4 15.0 18.0 22.2 23.1 25.3 23.8 26.3 21.4 28.4 21.8 20.1 24.3 18.1 22.7 9.9 10.8 14.4 19.0 28.6 6.1 24.5 9.9 19.1 10.6 16.5 20.5 17.2 30.1 10.5 12.8 22.0 9.9 14.8 13.3 15.2 26.5 19.0 21.4 20.0 34.7 16.5 4.1 1.9 20.2 16.8 24.6 10.4 13.4 28.8 22.0 16.8 25.8 0.0 11.9 12.4 17.4 9.2 23.0 20.1 20.2 23.8 11.8 36.5 16.0 24.0 22.3 24.8 21.5 17.6 7.3 22.6 12.5 21.7 27.7 6.8 33.4 16.6 31.7 31.5 10.1 11.3 7.8 26.4 19.3 18.5 19.3 45.1 13.8 8.2 23.9 15.1 12.7 25.3 11.9 6.1 11.3 12.8 14.9 24.5 15.0 16.9 11.1 16.1 15.5 25.9 25.5 18.4 24.0 26.4 12.7 28.8 17.0 33.6 29.3 31.4 28.1 15.3 29.1 11.5 32.3 28.3 25.3 30.7">
<param name="xValues3" value="85.2 83.0 87.9 86.4 100.0 94.4 90.7 88.5 82.5 88.6 83.6 90.9 91.6 101.8 96.4 92.8 96.4 97.5 89.6 100.5 95.9 98.8 76.4 80.0 76.3 79.7 74.6 88.7 73.9 83.5 88.7 84.5 79.1 100.5 115.6 113.1 100.9 98.8 148.1 108.1 126.2 104.3 111.2 104.3 76.0 81.5 73.7 79.5 83.4 70.4 86.7 77.9 82.0 79.6 77.6 100.0 99.8 104.2 105.3 98.3 104.8 94.7 102.4 99.7 105.5 100.3 83.9 86.6 78.4 84.6 91.5 82.8 82.9 76.0 83.3 81.8 78.8 95.0 95.4 98.6 95.8 89.0 97.8 94.9 99.8 89.7 88.1 90.9 86.0 86.5 95.6 93.2 83.1 97.5 88.8 99.2 91.6 86.7 88.2 94.0 95.0 92.0 89.2 95.5 98.6 87.3 102.8 101.6 88.7 92.3 90.6 105.0 95.0 89.6 92.4 86.6 90.0 90.0 92.4 87.5 99.2 98.1 83.3 86.1 84.1 89.9 92.1 78.0 93.5 87.0 90.1 90.3 99.8 89.4 87.2 101.1 86.1 98.6 88.5 106.6 93.1 93.0 91.0 77.1 85.3 81.9 99.1 100.5 76.5 106.8 77.6 102.9 72.8 88.2 100.1 83.5 105.0 90.8 76.6 92.4 81.2 95.6 92.1 83.4 106.0 95.1 90.4 100.4 115.9 90.8 81.9 75.0 90.3 90.3 108.8 79.4 83.2 110.3 92.7 104.5 104.6 69.4 83.6 86.8 90.4 83.7 109.3 98.9 98.0 101.2 80.6 113.7 94.1 105.7 85.6 96.6 86.0 89.7 78.0 89.7 89.2 85.7 103.1 89.1 113.9 96.3 93.9 101.3 83.9 84.4 79.4 104.0 89.7 97.6 87.6 122.1 81.1 81.5 100.0 88.7 91.8 110.4 87.6 82.8 95.3 78.2 91.1 96.7 89.4 93.0 86.4 96.7 88.1 94.9 93.3 95.6 98.2 113.8 82.8 100.5 79.7 118.0 109.0 113.4 106.1 84.3 107.6 83.6 105.0 111.5 101.3 108.5">
<param name="zValues3" value="67.75 72.25 66.25 72.25 71.25 74.75 69.75 72.50 74.00 73.50 74.50 76.00 69.50 71.25 69.50 66.00 71.00 71.00 67.75 73.50 68.00 69.75 68.25 70.00 67.75 71.50 67.50 67.50 64.75 69.00 73.75 71.25 71.25 71.00 73.50 65.00 70.00 68.25 72.25 67.00 68.75 69.50 70.00 71.50 68.00 73.25 67.50 71.25 68.50 66.75 72.25 69.00 67.75 73.50 67.50 72.00 68.00 69.50 70.75 65.75 73.25 68.50 70.25 67.00 70.00 67.50 70.75 71.50 69.25 71.50 71.50 68.75 73.75 64.00 65.75 67.50 69.50 68.50 70.25 69.25 67.75 67.25 72.75 70.00 69.25 67.50 67.25 65.75 72.50 73.00 70.00 69.50 70.50 71.75 74.50 77.75 73.25 66.50 68.25 72.00 73.50 72.00 71.25 73.75 69.25 68.50 73.50 74.25 75.50 69.25 68.50 70.00 70.00 70.25 71.75 69.25 72.75 72.00 74.00 72.25 74.50 71.50 68.75 66.75 66.50 67.00 68.75 67.75 73.25 69.75 71.50 70.50 73.25 66.75 69.50 69.75 70.75 74.00 71.25 75.00 71.00 69.50 67.75 72.25 77.50 70.75 72.75 69.75 72.50 70.25 69.00 74.50 72.25 67.25 73.50 75.25 69.00 72.25 68.75 71.50 72.25 73.00 68.75 70.50 72.00 73.75 68.00 72.25 69.50 69.50 67.75 65.50 71.00 71.50 71.75 69.25 67.00 71.50 69.25 74.50 74.25 68.00 67.25 69.75 74.25 71.50 74.25 72.00 72.50 68.25 69.25 76.00 70.50 74.75 72.75 68.25 69.00 71.50 72.75 67.50 70.25 69.25 71.50 74.00 69.75 73.00 65.50 72.50 70.25 70.75 68.00 74.50 71.75 70.75 73.00 64.00 69.75 70.00 71.75 69.25 70.50 72.25 67.50 67.25 68.75 66.75 68.25 74.25 69.50 68.50 65.75 71.75 71.50 67.25 67.50 67.50 72.25 69.50 69.50 65.75 65.75 68.25 72.00 72.75 68.50 69.25 70.50 67.00 69.75 66.00 70.50 70.00">
<param name="dataName4" value="Student performance in Business Statistics course">
<param name="description4" value="In a large Introductory Business Statistics course at Massey University in 2005, a mid-semester multiple-choice test (25 questions) covered similar material to the first two assignments (marked out of 44 and 30 respoectively). 308 students completed all three assessments.">
<param name="question4" value="It is almost certain that test marks are related to assignment marks. The probability of such a high F is almost zero if test marks were unrelated to assignment marks.">
<param name="yVarName4" value="Test">
<param name="xVarName4" value="Assignment 1">
<param name="zVarName4" value="Assignment 2">
<param name="yValues4" value="12 17 19 17 21 18 12 12 17 15 19 21 16 14 19 12 16 21 21 19 16 17 17 14 24 15 16 14 21 14 13 17 12 16 18 19 18 19 15 21 19 21 17 18 15 21 21 16 15 19 8 13 13 24 15 13 16 11 11 14 13 15 22 14 20 18 17 17 24 17 17 10 19 18 11 18 12 18 21 23 21 18 19 13 18 15 14 20 19 14 20 17 13 18 19 21 21 20 15 10 17 21 19 15 18 21 11 13 19 14 19 18 19 14 21 18 17 8 20 19 17 23 17 20 12 15 23 21 17 21 16 18 19 16 14 15 19 23 12 17 18 15 16 16 19 20 19 11 21 20 17 20 23 18 21 18 18 18 22 10 18 19 20 17 15 10 15 19 16 12 17 9 21 18 21 12 18 15 19 19 12 19 10 12 12 21 18 17 6 11 19 11 18 21 14 16 17 13 19 21 15 19 11 20 17 21 13 18 21 22 16 11 14 16 19 16 21 15 17 17 21 21 21 19 19 23 15 16 18 11 16 14 19 15 18 13 18 17 14 14 23 21 19 16 20 11 22 18 20 18 17 13 16 18 24 10 18 13 19 13 17 17 8 17 16 16 17 20 20 18 15 16 16 17 20 22 21 18 17 23 19 24 13 15 13 19 15 16 21 19 14 12 21 17 21 13 19 20 18 20 19 15 17 13 10 15 14 15">
<param name="xValues4" value="39.5 40 37 40.5 37.5 40.5 30.5 42 40.5 43 19 34.5 40.5 32.5 38.5 30 40 39 41 39.5 40 44 42 34.5 41 32 40 37 30.5 31.5 38.5 39 37.5 34 38.5 30.5 36.5 41 39 42 42 43 36.5 44 39 39.5 34 37 44 42.5 38.5 38.5 39 39 44 41 35.5 42.5 41 37 41 30 42 38 36 44 27 38 35 40.5 41.5 33 36.5 36 20.5 40 34.5 29.5 36.5 42 34.5 39 36 28 41 30.5 39.5 32 44 35.5 37 40 33 41 35.5 28 38.5 40.5 42.5 39 44 41.5 41.5 30 38 41 29 34.5 40 43 40.5 38 37 27 37 26 34 34 32 41.5 28 37.5 39 39.5 34.5 37 40.5 39.5 30.5 44 30 38 33 28 33 40.5 35.5 43 38.5 36.5 44 41 34 36.5 38 43 44.5 34.5 40.5 41 29 41.5 38.5 40 36 31 40 45 41 41 38.5 39 34 40 35 32 44.5 41 32 31.5 41 31.5 39.5 43 41 39.5 44 41 40 42 30 44.5 23.5 31.5 38.5 42 8 37 21 37.5 38.5 23 37.5 38 16 27 39.5 42.5 42.5 37.5 43 41 30.5 44 36.5 42 40.5 35 40.5 37 34 38 27.5 33 41 38.5 43.5 41.5 43 31.5 38.5 42 41.5 39.5 42.5 39 43 39.5 39 30 42 38.5 32.5 35 44 38 43 42 38.5 37.5 37 43 39.5 42 39.5 40 38.5 39.5 37 34.5 40 38 22 43 43 32 40.5 40.5 21 36 39 40 39.5 43.5 41 34.5 30 39 32.5 38.5 34 30.5 36 33 44.5 39 37.5 37.5 38 40 37.5 43.5 40.5 35 38.5 39 40 37 40.5 42 31.5 39.5 36.5 30 35 36 36.5 34 41.5 38 37 39 38.5 33.5 38.5 38.5 25 36.5">
<param name="zValues4" value="25 23.5 25 23 18 27 20.5 16 13.5 16.5 15 19 19 19 19 30 15 23.5 27 27 20 26 22 20 21.5 22.5 24 23 28 21 19 26 26 21 28 21 23.5 23.5 28 18 24 29 24 26 24 23 23 25 17.5 18.5 6.5 20 22 22 28.5 26 18.5 21 23 9.5 18 29 26 21 17 26 17.5 26 22 24 18 12.5 22 24 25 21 24 27 23 26 14 21 24 18 23 16 16 16.5 19 25.5 23 27 18 20 26 17 24 25 25 19 27 25 7 19 27 23 27 22 21 27 18 22 19 9 16.5 17 21 21.5 22 29 13 25.5 23 24 21 20 26 23 22 25.5 23.5 24 21 28 16.5 25 29 25 22 25 21 25 24 24 24 24 29 22 28 22 28 25 26 25 26.5 25 22 28 22 29.5 26 17.5 24 23 25 13 20 19 14 14 24 19 9 22 24 21 28.5 14 18 26 4.5 27 7 12 21 26 5 16 10 19.5 20.5 18 18 21 12 24 23 21 26 24.5 27 21.5 11 21.5 25 24.5 10 27 18 22 18.5 17.5 19 10 11 14 21.5 29 18 25 22 27 22 23 24 23 21.5 26 25 22.5 17 15 17 3 23 20 23 29 18 25 23 25.5 21 22 20 24 25 24 21.5 15.5 20.5 23 11 24 28 12 21.5 6 16.5 26 27 22.5 25 22 23 24 25 21.5 24 17 20.5 25 23 18.5 28 26 26 27 22 27 21 25 18 23 20 21.5 21 22 23 25 23 26 27 19 18.5 27 26 25 25 22 21 19.5 26 20 24 22 7.5 27">
<param name="yAxis4" value="0 25 0 5">
<param name="xAxis4" value="0 45 0 10">
<param name="zAxis4" value="0 30 0 10">
<param name="dataName5" value="Development aid in sub-Saharan Africa">
<param name="description5" value="The data set describes how overseas aid in 1999 (US$ per capita on a log10 scale) is related to the GNP (US$ per capita on a log10 scale) and life expectancy in all countries of sub-Saharan Africa. (Is more aid given to poor countries?)">
<param name="question5" value="There is strong evidence that aid is related to either GNP or life expectancy. Notice however that it is the countries with higher life expectancy and/or GNP that seem to get more aid!">
<param name="yVarName5" value="log(aid)">
<param name="xVarName5" value="log(GNP)">
<param name="zVarName5" value="life expectancy">
<param name="labelName5" value="Country">
<param name="yValues5" value="1.491 1.531 1.580 1.556 1.041 1.477 2.502 1.519 1.398 1.591 0.477 1.690 1.477 2.064 1.663 1.568 1.000 1.591 1.415 1.505 1.519 1.643 1.000 1.176 1.491 1.380 1.613 1.505 1.924 1.544 0.845 2.017 1.255 0.000 1.653 2.279 1.763 2.210 1.176 1.079 1.114 0.903 1.447 1.477 1.204 1.431 1.799 1.322">
<param name="xValues5" value="2.431 2.580 3.511 2.380 2.079 2.778 3.124 2.462 2.322 2.544 2.041 2.740 2.851 2.898 3.068 2.301 2.000 3.519 2.519 2.591 2.708 2.204 2.556 2.740 2.673 2.398 2.255 2.380 2.591 3.550 2.342 3.276 2.279 2.415 2.398 2.431 2.708 3.816 2.114 2.079 3.501 2.519 3.134 2.415 2.491 2.505 2.519 2.724">
<param name="zValues5" value="47 53 46 44 42 54 68 44 48 60 51 48 46 50 50 51 43 53 53 60 47 44 51 55 47 58 42 50 54 71 45 54 46 53 41 64 52 72 37 48 63 55 56 47 49 42 43 51">
<param name="label5" value="Angola Benin Botswana BurkinaFaso Burundi Cameroon CapeVerde CentralAfricanRepublic Chad Comoros Congo,DemocraticRep Congo,Republic CÃƒÂ™ted'Ivoire Djibouti EquatorialGuinea Eritrea Ethiopia Gabon Gambia Ghana Guinea Guinea-Bissau Kenya Lesotho Liberia Madagascar Malawi Mali Mauritania Mauritius Mozambique Namibia Niger Nigeria Rwanda SÃ¢Â€ÂžoTomÃƒÂˆ&Principe Senegal Seychelles SierraLeone Somalia SouthAfrica Sudan Swaziland Tanzania Togo Uganda Zambia Zimbabwe">
<param name="yAxis5" value="0 2.7 0 0.5">
<param name="xAxis5" value="1.7 4.0 2 0.5">
<param name="zAxis5" value="30 75 30 10">
<param name="maxSsq" value="9999.99 9999.999 99.999">
<param name="ssqNames" value="Total Regression Residual">
<param name="fAxis" value="0 16 0 5">
<param name="areaProportion" value="0.06">
</applet> 
</div>

		<p>Use the pop-up menu to apply the test to other data sets.</p>
		<p><strong>Note</strong> that there is extremely strong evidence that test 
			marks are related to assignment marks in the Business Statistics data set, 
			even though the relationship is not strong (R<sup>2</sup> = 0.117). In large 
			data sets, even weak relationships can be significant.</p>
</div>


<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
