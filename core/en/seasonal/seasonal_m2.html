<!DOCTYPE HTML>
<html>
<head>
	<title>Smoothing out seasonal variation</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="seasonal pattern, moving average/to remove seasonal pattern">
	<meta name="dataset" content="Temperature in Boulder Colorado">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Moving averages</p>

  <p>We showed at the start of this chapter that moving averages are effective
 for reducing the random fluctuations in a time series.</p>
	<p>Moving averages can also be used to remove a seasonal effect, but the run 
		length is critically important.</p>
	
<div class="centred"><div class="boxed">
<p>For seasonal data with cycle length n, an n-point moving average 
				should be used.</p>
</div></div>

	<p>For example, daily data have a cycle length of 7 days. Each 7-point running 
		mean averages exactly <strong>one value from each day of the week</strong> 
		(one value of each colour in the diagram below).</p>

<p class=eqn><img class="gif" src="images/weeklyMean.gif" width="413" height="131">
</p>

  <p>If, say, Saturday values are regularly lower than other days, the smoothed 
		values for each day of the week will involve a Saturday and will be equally 
		affected. The smoothed values for Saturdays will therefore not tend to be 
		lower than other days. This removes the seasonal pattern. </p>
	<p class=heading>Even cycle lengths </p>

  <p>Unfortunately there is a complication when seasonal data have an even cycle 
	length (such as monthly data with a cycle length of 12). When the cycle length is even, centred moving averages are required. For example,  quarterly data have cycles of length 4 so centred 4-point moving averages should be used:</p>

<p class=eqn><img class="gif" src="../seasonal/images/quarterlySmoothEqn.gif" width="314" height="46"></p>

<p>Similar definitions are used for other even values of <i>n</i> with half-weights 
on the two end values. Note that a 4-point moving average  involves <strong>5</strong> values, not 4.</p>


<div class="diagram" title="Example: Monthly temperatures in Boulder, Colorado">
<p class="heading">Monthly temperatures in Boulder, Colorado</p>
		<p>The diagram below again shows mean monthly temperatures in Boulder, Colorado.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="350">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="timeProg.RunningMeanApplet">
<param name="varName" value="Temperature (degrees F)">
<param name="values" value="36.5 36.4 38.7 46.5 58.8 62.1 72.8 70.7 67.1 50.4 44.0 32.2 36.4 42.1 46.0 44.5 55.6 64.8 73.5 69.3 58.5 51.9 48.0 36.9 36.4 41.0 42.9 51.2 61.0 67.4 74.7 73.0 63.1 49.6 31.4 31.2 33.0 32.3 40.8 50.7 58.4 68.9 75.0 71.8 65.0 53.8 43.9 35. 33.1 36.0 37.5 52.9 56.2 70.5 76.8 71.3 64.0 45.9 40.3 36.6 40.2 31.6 43.7 50.6 57.4 62.8 75.9 72.9 60.5 57.4 39.0 36.4 35.4 33.6 48.2 49.2 59.9 62.7 69.2 66.4 62.9 51.9 39.7 36.5 35.5 37.9 42.0 48.4 57.6 65.4 75.1 69.7 66.2 52.6 45.0 33.3 40.7 33.7 39.4 53.9 61.0 71.6 74.4 71.6 58.4 51.0 43.4 35.3 27.2 34.6 47.6 47.9 58.0 67.7 74.8 73.7 64.5 55.2 44.9 30.2">
<param name="vertAxis" value="20 80 20 10">
<param name="seasonName" value="12 Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec">
<param name="seasonInfo" value="0 0 1998">
<param name="timeAxisName" value="Month">
<param name="smoothName" value="Smoothed">
<param name="runs" value="15 even">
<param name="showEnds" value="false">
<param name="customText" value="Running mean of=Running mean of">
</applet>
</div>

		<p>Use the control under the plot to investigate the effect of different moving 
			averages. Observe that 12-point moving averages remove the seasonal effect.</p>
		</div>
  <script type='text/javascript'>writePageEnd();</script>

</body>
</html>
