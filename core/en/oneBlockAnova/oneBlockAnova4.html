<!DOCTYPE HTML>
<html>
<head>
	<title>Removing block and factor effects</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="randomised block design, sum of squares">
	<meta name="dataset" content="Acupuncture and codeine">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Adjusting the data</p>

  <p>There is another way to think of the residuals from the full model. They can be obtained by:</p>
  <ul>
    <li>Adding a constant to all values within each block to adjust the block means to be equal</li>
    <li>Then adding a constant to the response values for each factor level to adjust their means to be equal.</li>
  </ul>
  <p>These adjustments sequentially reduce the total sum of squares by <span class="green">SS<sub>Blocks</sub></span> and <span class="red">SS<sub>Factor</sub></span> so, after both adjustments, the total sum of squares becomes <span class="blue">SS<sub>Resid</sub></span>.</p>
  <div class="centred"><div class="boxed">
    <p>Adding a term for the blocks can be thought of as adjusting the values to remove the block effect. </p>
  </div></div>
	<br>
	
  <div class="diagram">
    <p class="heading">Acupuncture and Codeine for dental pain relief</p>

		<p>An anaesthetist conducted an experiment to assess the effects of codeine 
			and acupuncture for relieving dental pain. The experiment used 32 subjects 
			who were grouped into blocks of 4 according to an initial assessment of 
			their tolerance to pain.</p>

    <p>The horizontal lines are initially the differences between the observations 
    and the overall mean. Their sum of squares is the total sum of squares.</p>
    <div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="450" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="pairBlockProg.ResidComponent2Applet">
<param name="yVarName" value="Pain relief score">
<param name="yValues" value="0.0 0.6 0.5 1.2 0.3 0.7 0.6 1.3 0.4 0.8 0.8 1.6 0.4 0.9 0.7 1.5 0.6 1.5 1.0 1.9 0.9 1.6 1.4 2.3 1.0 1.7 1.8 2.1 1.2 1.6 1.7 2.4">
<param name="zVarName" value="Treatment">
<param name="zLabels" value="Placebo Codeine Acupuncture #Cod + Acu#">
<param name="zValues" value="0 1 2 3 0 1 2 3 0 1 2 3 0 1 2 3 0 1 2 3 0 1 2 3 0 1 2 3 0 1 2 3">
<param name="xVarName" value="Block (pain tolerance)">
<param name="xLabels" value="#Tol 1# #Tol 2# #Tol 3# #Tol 4# #Tol 5# #Tol 6# #Tol 7# #Tol 8#">
<param name="xValues" value="4@0 4@1 4@2 4@3 4@4 4@5 4@6 4@7">
<param name="yAxis" value="0 2.5 0 0.5">
<param name="componentDecimals" value="3">
<param name="maxSummaries" value="999.999 99.999 99.99 9.999">
<param name="customText" value="Overall mean=Overall mean#Remove block effect=Remove block effect#Group by treatments=Group by treatments#Remove treatment effect=Remove treatment effect">
</applet>
</div>

    <p>The vertical lines in each block show the block means. Click <strong>Remove block effect</strong> to add  a constant 
			to all the values in each block making its block mean equal to the overall mean. The reduction in the total sum of squares is equal to the block sum of squares, so the sum of squares of the horizontal lines is now the <strong>sum of 
			the factor and residual sums of squares</strong>.</p>
    <p>Finally click <strong>Group by treatments</strong> to rearrange the observations by treatment. The treatment means differ so click <strong>Remove treatment effect</strong> to adjust them to be all equal to the overall mean. The horizontal lines 
			are now the <strong>residuals</strong> from the randomised block model and 
			their sum of squares is the <strong>residual sum of squares</strong> from the full model with both block and factor terms.</p>
	</div>
  
<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
