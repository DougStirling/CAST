<!DOCTYPE HTML>
<html>
<head>
	<title>Two special cases</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="stacked bar chart, time series, binary variable">
	<meta name="dataset" content="Hospital overnight stays">
	<meta name="dataset" content="Snoring and heart disease">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Time series</p>

<p>When sets of categorical measurements are recorded at successive times, time 
can be treated as a grouping variable. Stacked barcharts are often informative 
displays.</p>


<div class="diagram" title="Example: Same-day treatment in hospitals">
<p class="heading">Same-day treatment in hospitals</p>

<p>Trends in the proportion of hospital patients who are treated and released 
on the same day affect planning for the number of beds that are required. The 
diagram below shows numbers of patients in Australian hospitals, categorised by 
the length of their stay in hospital.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.BarTimeApplet">
<param name="xVarName" value="Length of stay">
<param name="xLabels" value="#Same day# Overnight">
<param name="xValues" value="1691@0 3043@1 1945@0 3035@1 2226@0 3028@1 2423@0 2985@1 2610@0 3017@1 2813@0 3033@1 2973@0 3047@1">
<param name="yVarName" value="Year">
<param name="yValues" value="4734@1994 4980@1995 5254@1996 5408@1997 5627@1998 5846@1999 6020@2000">
<param name="countAxis" value="6500 1000">
<param name="propnAxis" value="1.0 0.2">
<param name="timeAxis" value="0 1 1994 1">
<param name="bottomPanel" value="true">
<param name="stackable" value="true">
<param name="mainGroup" value="1">
<param name="vertScale" value="0 2">
<param name="barWidth" value="15">
<param name="freqUnits" value="Thousands">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>Firstly click the checkbox <strong>Stacked</strong>. This shows the increase 
in the total number of patients over this period.</p>
<p>Now choose <strong>Propn within Year</strong> from the pop-up menu. The stacked 
display of these proportions shows how the <strong>proportion</strong> of same-day 
patients increased. The unstacked version of this plot perhaps shows this increase 
even more clearly.</p>
</div>

<p class="heading">Binary variables</p>

<p>When the variable of interest can only take two possible values, it is called 
a <strong>binary variable</strong>. Examples are</p>
<ul>
<li>Gender (male or female)</li>
<li>Approval (yes or no)</li>
<li>Quality (acceptable or rejected)</li>
</ul>
<p>This type of variable is often abstracted by calling the two categories <strong>success</strong> 
and <strong>failure</strong>. Note that either category could be called 'success' 
with this notation &mdash; there is no 'positive' implication associated with the term.</p>
<p>A single binary variable is described fully by the numbers of successes and 
failures and the <strong>proportion of successes</strong> is the most useful single 
summary. Comparison of several groups is based on the proportion of successes 
in the groups, and these can be displayed in a single bar chart.</p>


<div class="diagram" title="Example: Heart disease and snoring">
<p class="heading">Heart disease and snoring</p>

<p>Are snoring and heart disease related? The table below classifies 2,484 subjects 
by the amount that they snored (reported by their spouses) and whether they had 
a history of heart disease.</p>
<div class="centred">
	<table border="0" class="centred" cellpadding="7" cellspacing="0">
		<tr>
			<td>&nbsp;</td>
			<th colspan="2" align="right">Heart disease</th>
			<td align="right">&nbsp;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<th align="right">Yes</th>
			<th align="right">No</th>
			<th align="right">Total</th>
		</tr>
		<tr>
			<th align="left">Non-snorer</th>
			<td align="right" bgcolor="#FFFFFF" style="border-left:1px solid #999999; border-top:1px solid #999999">24</td>
			<td align="right" bgcolor="#FFFFFF" style="border-right:1px solid #999999; border-top:1px solid #999999">1355</td>
			<td align="right">1479</td>
		</tr>
		<tr>
			<th align="left">Occasional snorer</th>
			<td align="right" bgcolor="#FFFFFF" style="border-left:1px solid #999999">35</td>
			<td align="right" bgcolor="#FFFFFF" style="border-right:1px solid #999999">603</td>
			<td align="right">638</td>
		</tr>
		<tr>
			<th align="left">Snores most nights</th>
			<td align="right" bgcolor="#FFFFFF" style="border-left:1px solid #999999">21</td>
			<td align="right" bgcolor="#FFFFFF" style="border-right:1px solid #999999">192</td>
			<td align="right">213</td>
		</tr>
		<tr>
			<th align="left">Snores every night</th>
			<td align="right" bgcolor="#FFFFFF" style="border-left:1px solid #999999; border-bottom:1px solid #999999;">30</td>
			<td align="right" bgcolor="#FFFFFF" style="border-right:1px solid #999999; border-bottom:1px solid #999999;">224</td>
			<td align="right">254</td>
		</tr>
	</table>
</div>
<p>The diagram below shows stacked bar charts for the four groups.</p>
<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="300">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.BinaryPropnApplet">
<param name="xVarName" value="Snoring">
<param name="xLabels" value="No Occasional #Most nights# #Every night#">
<param name="xValues" value="1379@0 638@1 213@2 254@3">
<param name="yVarName" value="Heart disease">
<param name="yLabels" value="Disease #No disease#">
<param name="yValues" value="24@0 1355@1 35@0 603@1 21@0 192@1 30@0 224@1">
<param name="maxProb" value="0.15">
<param name="propnAxis" value="0 1 0.0 0.1">
<param name="customText" value="Propns for=Propns for">
</applet>
</div>

<p>Since the proportions with a history of heart disease are all small, the differences 
between the groups are not displayed well. Choose <strong>Propns for Disease</strong> 
from the pop-up menu to hide the bars for 'No disease' and expand the vertical 
scale. The resulting diagram looks like a simple bar chart of the proportion with 
disease in the four groups.</p>
<p>How does the proportion with heart disease vary with the amount of snoring?</p>
</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
