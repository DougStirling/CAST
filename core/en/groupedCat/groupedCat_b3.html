<!DOCTYPE HTML>
<html>
<head>
	<title>Bar charts using proportions</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="proportion, percentage, bar chart, clustered bar chart">
	<meta name="dataset" content="Blood groups and race">
	<meta name="dataset" content="Dolphin activity">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Proportions within groups</p>

<p>Although a contingency table fully describes categorical data from two or more 
groups, it is a poor way to compare the distributions if there are different total 
numbers in the groups.</p>
<p>Rather than tabulating the frequencies for each group, it is more informative 
to tabulate the <strong>proportions within the groups</strong>. Each frequency 
in the table is therefore divided by the <strong>total for that group</strong>.</p>
<p>For example, in the health and contraception data on the previous page,</p>
<ul>
<li>12 of the women aged 16-29 who did not use contraception did so because they 
wanted to become pregnant, but</li>
<li>28 of those aged 30-39 gave this as their reason.</li>
</ul>
<p>However since there were many more in the 30-39 age group, it is more meaningful 
to report that</p>
<ul>
<li>a proportion <sup>12</sup>/<sub>57</sub> = 0.21 of those aged 16-29 did so 
to become pregnant, whereas</li>
<li>only <sup>28</sup>/<sub>166</sub> = 0.17 of those aged 30-39 gave this as 
their reason.</li>
</ul>

<div class="diagram" title="Example: Blood type and race">
<p class="heading">Blood type and race</p>

<p>In a study of racial differences in blood types, blood specimens from the Blood 
Bank of Hawaii were classified by blood type (O, A, B and AB) and by ethnic group 
(Hawaiian, Hawaiian-white, Hawaiian-Chinese and White). The contingency table 
below describes the data.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="240">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.ContinTable2Applet">
<param name="xVarName" value="Ethnic group">
<param name="xLabels" value="#Hawaiian# #Hawaiian-white# #Hawaiian-chinese# White">
<param name="xValues" value="4670@0 9982@1 5385@2 125020@3">
<param name="yVarName" value="Blood type">
<param name="yLabels" value="O A B AB">
<param name="yValues" value="1903@0 2490@1 178@2 99@3 4469@0 4671@1 606@2 236@3 2206@0 2368@1 568@2 243@3 53759@0 50008@1 16252@2 5001@3">
<param name="vertScale" value="0 1">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within#Display=Display">
</applet>
</div>

<p>Differences between the ethnic groups are clearer if the <strong>proportions</strong> 
of each blood type are displayed within each ethnic group. These proportions are 
found by dividing each row of the table by its row total &mdash; <strong>click on any 
row</strong> to see the process.</p>
<p>Select the option <strong>Propn within Ethnic group</strong> from the pop-up 
menu to display the resulting proportions. This scales each row, making all row 
totals the same, 1.0.</p>
		
<div class="centred"><div class="boxed">
<p>Observe that a larger proportion of 
							Hawaiian-chinese and Whites have blood types B and AB than the other 
							ethnic groups.</p>
</div></div>

		<p>Multiplying the proportions by 100 rewrites them as percentages. Select 
			<strong>Percent within Ethnic group</strong> to display these percentages. 
			Although percentages and proportions contain the same information, the leading 
			zeros and decimal points are absent in the percentages and this 'cleaner' 
			display makes it easier to compare the ethnic groups.</p>
		</div>

<p class="heading">Bar charts of proportions</p>

<p>Bar charts provide a graphical way to compare groups. Although the bar chart 
of each group has the same shape whether it is based on frequencies or proportions, 
comparisons are made more easily if proportions are used, especially when the 
groups are of different sizes.</p>


<div class="diagram" title="Example: Doplhin Activity">
<p class="heading">Doplhin Activity</p>

<p>Groups of dolphins were observed off the coast of Iceland near Keflavik in 
1998. The data here give the time of the day and the main activity of the group, 
whether travelling quickly, feeding or socializing. The diagram below shows the 
number of groups observed at each time of day, categorised by activity type.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Time of day">
<param name="xLabels" value="Morning Noon Afternoon Evening">
<param name="xValues" value="72@0 15@1 23@2 69@3">
<param name="yVarName" value="Activity">
<param name="yLabels" value="Travel Feeding Social">
<param name="yValues" value="6@0 28@1 38@2 6@0 4@1 4@2 14@0 9@2 13@0 56@1 10@2">
<param name="countAxis" value="60 10">
<param name="propnAxis" value="1.0 0.2">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0">
<param name="stackable" value="false">
<param name="vertScale" value="0 1">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>From bar charts of the counts, various differences in activity between the 
times are evident. In particular, few groups are feeding in the afternoon and 
most are feeding in the evening. But it is harder to assess whether a larger proportion 
are feeding in the morning or at noon.</p>
		<p>Select <strong>Propn within Time of day</strong> or <strong>Percent within 
			Time of day</strong> from the pop-up menu. The effect is to scale each bar 
			chart to have the same total (1.0 or 100). It can now be seen that a larger 
			proportion of groups are feeding in the morning than at noon.</p>
</div>


<p class="heading">Clustering the bars</p>

<p>If the groups correspond to different rows of a table that shows proportions 
within groups (so the row totals are 1.0), the most important comparisons are 
down columns. For example, we would scan down the 'AB' column in the blood-type table 
 to compare the proportions with 'AB' blood in the different 
ethnic groups.</p>
<p>When separate bar charts are drawn for the different groups, the corresponding 
bars are widely separated in the diagram, making comparisons harder. An alternative 
display uses the same bars, but clusters them by the values of the categorical 
variable, rather than by groups. This type of clustered bar chart makes it easier 
to spot subtle differences between the groups.</p>
<div class="diagram">
<p class="heading">Blood type and race</p>

<p>The diagram below shows bar charts of the proportions of different blood types 
in Hawaii in four ethnic groups.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="450">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="bivarCatProg.Bar2WayApplet">
<param name="xVarName" value="Ethnic group">
<param name="xLabels" value="#Hawaiian# #Haw-white# #Haw-chinese# White">
<param name="xValues" value="4670@0 9982@1 5385@2 125020@3">
<param name="yVarName" value="Blood type">
<param name="yLabels" value="O A B AB">
<param name="yValues" value="1903@0 2490@1 178@2 99@3 4469@0 4671@1 606@2 236@3 2206@0 2368@1 568@2 243@3 53759@0 50008@1 16252@2 5001@3">
<param name="countAxis" value="55000 10000">
<param name="propnAxis" value="0.6 0.1">
<param name="bottomPanel" value="true">
<param name="mainGroup" value="0 1">
<param name="stackable" value="false">
<param name="vertScale" value="1">
<param name="showPercentages" value="false">
<param name="customText" value="Propn within=Propn within#Percent within=Percent within">
</applet>
</div>

<p>Comparing the proportions with any particular blood group between the ethnic 
groups is difficult because their bars are separated.</p>
<p>Select the option <strong>Blood type</strong> from the pop-up menu to cluster 
the bars by blood type. Observe the greatest difference between the ethnic groups 
is in blood type B, though there are also noticeable differences in blood types 
A and AB.</p>
</div>

<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
