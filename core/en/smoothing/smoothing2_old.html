<!DOCTYPE HTML>
<html>
<head>
	<title>More about moving averages</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="smoothing, centred moving average">
	<meta name="dataset" content="Southern oscillation">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Moving average with odd and even run lengths</p>
	<p>A moving average provides a smoothed value at the middle of the times of the values being averaged. For example, if the run length is 5, the smoothed value is identified with the middle time.</p>
	<p class=eqn><img class="gif" src="images/movingAverage5.gif" width="249" height="218"> </p>
	<p>This works fine for moving averages of odd numbers of values, as were used in the previous page. However if  moving averages are round using an even number of values, the resulting smoothed value are for half-way between the times of the middle observations.</p>
	<p class=eqn><img class="gif" src="images/movingAverage4.gif" width="237" height="218"> </p>
	<p>A smoothed value may therefore be for &quot;year 2005.5&quot; which is far from ideal.</p>
	<p class="heading">A second stage of averaging</p>
	<p>To avoid this problem, it is conventional to post-process the moving averages with an even run length by taking a further 2-point moving average to get the values centred on the original times.</p>
	<p class=eqn><img class="gif" src="images/movingAverageDouble.gif" width="428" height="218"> </p>
	<p>This is equivalent to giving <strong>half weight</strong> to the two outermost values. When based on a 4-point moving average, this method therefore uses an average of the 3 values centred on each value and two further values with half-weight.</p>
	<p class=eqn><img class="gif" src="../smoothing/images/quarterlySmoothEqn.gif" width="314" height="46"> </p>

<p>We will  call these values 4-point centred moving averages.</p>
  
  <div class="centred"><div class="boxed">
    <p>These centred averages are particularly useful when analysing seasonal data. For example, 12-point centred moving averages are often used for monthly data.</p>
  </div></div>

<div class="diagram">
<p class="heading">Southern Oscillation</p>

		<p>The Southern Oscillation Index is defined as the barametric pressure difference between Tahiti and the Darwin Islands at sea level. The southern oscillation is a predictor of El Nino which in turn is thought to be a driver of world-wide weather. Specifically, repeated southern oscillation values less than -1 typically defines an El Nino. The time series plot shows the index between January 1984 and December 1987.</p>

<div class="centred">
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="350">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="timeProg.RunningMeanApplet">
<param name="varName" value="Pressure difference">
<param name="values" value="0 0.4 -0.8 0.4 0 -1.2 0 0.1 0.1 -0.6 0.3 -0.3 -0.5 0.8 0.2 1.4 -0.2 -1.4 -0.3 0.7 0 -0.8 -0.4 0.1 0.8 -1.2 -0.1 0.1 -0.6 1 0.1 -0.9 -0.5 0.6 -1.6 -1.6 -0.7 -1.4 -2 -2.7 -2 -2.7 -1.8 -1.7 -1.1 -0.7 -0.1 -0.6 -0.3 -0.6 0.1 0 1.1 -0.3 1.1 1.4 1.9 1.5 1.9 1.1 1.5 1.1 0.6 1.6 1.2 0.5 0.8 -0.8 0.6 0.6 -0.4 -0.7 -0.2 -2.4 -1.2 0 1.1 0 0.5 -0.5 -0.8 0.1 -0.7 -0.4 0.6 -0.1 -1.4 -1 -1.5 -0.5 -0.2 -0.9 -1.8 -1.5 -0.8 -2.3 -3.4 -1.4 -3 -1.4 0 -1.2 -0.8 0 0 -1.9 -0.9 -1.1">
<param name="vertAxis" value="-3.5 2.5 -3 1">
<param name="timeAxisName" value="Month">
<param name="seasonName" value="12 Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec">
<param name="seasonInfo" value="0 0 1984">
<param name="smoothName" value="Smoothed">
<param name="showEnds" value="false">
<param name="labelAxes" value="true">
<param name="maOrderLabel" value="Moving average of">
<param name="rawName" value="Raw data">
<param name="runs" value="15 even">
</applet>
</div>

		<p>This diagram is similar to that on the previous page but allows both odd and even run lengths for the moving averages. When the run-length is even, centred moving averages are shown.</p>
	  <div class="centred"><div class="boxed">
      <p>8-point centred moving averages give a smooth display of the  changes in the index over time.</p>
    </div></div>

<br>
</div>



<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
