<!DOCTYPE HTML>
<html>
<head>
	<title>Tranformations and interaction</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="interaction, transformation">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Effect of transformation on the interaction</p>  
  <p>Consider a response variable, Y, that satisfies a normal model with two explanatory 
		variables X and Z that do not interact in their effect on the mean response.</p>
	<p>If a nonlinear function of this response, such as log(Y) or exp(Y), is modelled 
		instead, there is likely to appear to be an interaction.</p>
		
<div class="centred"><div class="boxed">
<p>The appearance of interaction depends on the 
				function of the response that is modelled.</p>
</div></div>

	<p>It is therefore important to consider nonlinear transformations of the response 
		as part of the modelling process.</p>
	
<div class="centred"><div class="boxed">
<p>Response variables that are 'quantities' of something 
				are often routinely replaced by their logs before analysis.</p>
</div></div>

	<p class="heading">Other effects of transforming the response</p>
	<p>Note that nonlinear transformations of the response have several different 
		effects on the model:</p>
	<ul>
		<li>Change the linearity of the relationship with numerical explanatory variables</li>
		<li>Change the interaction between the explanatory variables</li>
		<li>Change whether the error variance is the same for all treatment combinations</li>
	</ul>
	<p>It is therefore important to look simultaneously for all three problems when 
		deciding on whether a transformation of the response is advisable.</p>
	<div class="diagram"> 
    <p class="heading">Example with interaction</p>
    <p>The diagram below shows a data set for which there is clear evidence of 
			interaction between the effects of the two explanatory variables. The coloured 
			surface represents the least squares fit of the model with interaction.</p>

<div class="centred"> 
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="curveInteractProg.QuadParamTestApplet">
<param name="yAxis" value="0 2000 0 500">
<param name="xAxis" value="0.7 5.3 1 1">
<param name="zAxis" value="0.8 4.2 1 1">
<param name="longYVarName" value="Response, Y">
<param name="longXVarName" value="Variable X">
<param name="longZVarName" value="Variable Z">
<param name="yVarName" value="y">
<param name="xVarName" value="x">
<param name="zVarName" value="z">
<param name="yValues" value="13.7 23.6 25.5 169.9 35.3 77.3 187.1 479.1 17.8 426.7 236.3 359.3 85.5 170.0 968.7 1460.3 217.9 378.2 1689.5 1987.0">
<param name="xValues" value="4@1 4@2 4@3 4@4 4@5">
<param name="zValues" value="1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4">
<param name="initialParams" value="6.00 0.0 0.0 0 0 0.0 0">
<param name="paramMinMax" value="0.99 999.99 -999.9 999.9 -999.9 999.9 0 0 0 0 0.9 999.9">
<param name="shadeCutoff" value="-200 700 2100">
<param name="paramNames" value="Intercept X Z ? ? Interaction">
<param name="maxTableEntries" value="-99.999 9.999 99.99">
<param name="customText" value="param=param#se=se">
</applet>
</div>

    <p>Observe that the interaction is highly significant.</p>
    <p class="heading">Transformed response</p>
    <p>In this example, the interaction can be completely removed by analysing 
			the logarithms of the response. This nonlinear transformation compresses 
			the top of the response scale and expands the lower end of the scale.</p>

<div class="centred"> 
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="500" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="curveInteractProg.QuadParamTestApplet">
<param name="yAxis" value="2.5 8 3 1">
<param name="xAxis" value="0.7 5.3 1 1">
<param name="zAxis" value="0.8 4.2 1 1">
<param name="longYVarName" value="Response, log(Y)">
<param name="longXVarName" value="Variable X">
<param name="longZVarName" value="Variable Z">
<param name="yVarName" value="log(y)">
<param name="xVarName" value="x">
<param name="zVarName" value="z">
<param name="yValues" value="2.617 3.161 3.239 5.135 3.564 4.348 5.232 6.172 2.879 6.056 5.465 5.884 4.449 5.136 6.876 7.286 5.384 5.935 7.432 7.594">
<param name="xValues" value="4@1 4@2 4@3 4@4 4@5">
<param name="zValues" value="1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4">
<param name="initialParams" value="6.000 0.000 0.000 0 0 0.000 0">
<param name="paramMinMax" value="0.999 9.999 0.999 9.999 0.999 9.999 0 0 0 0 0.999 9.999">
<param name="shadeCutoff" value="2 5 8">
<param name="paramNames" value="Intercept X Z ? ? Interaction">
<param name="maxTableEntries" value="-99.999 9.999 99.99">
<param name="customText" value="param=param#se=se">
</applet>
</div>

    <p>When analysing the log transformation of the response, there is no significant 
			interaction between the effects of X and Z.</p>
    </div>


<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
