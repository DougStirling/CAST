<!DOCTYPE HTML>
<html>
<head>
	<title>Categorical model for numerical factors</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="../../pageStyles.css" type="text/css">
	<script src="../../releaseInfo.js"></script>
	<script src="../../structure/pageSetup.js"></script>

	<meta name="index" content="numerical factor, categorical factor, model, linear model">
	<meta name="dataset" content="Drilling thrust">
</head>


<body>
<script type="text/javascript">writePageStart();</script>

<p class="heading">Smoothness in a categorical model</p>  
  <p>The previous section described a model without interactionfor experiments with two factors, <span class="blue">X</span> and <span class="green">Z</span>. For the <span class="red"><em>k</em> 'th</span> replicate observation when factor <span class="blue">X</span> is at level <span class="blue"><em>i</em></span>  and factor <span class="green">Z</span> is at level <span class="green"><em>j</em></span> , the response was modelled by the following equation:</p>
	<div class="centred"><table border="0" class="centred" cellpadding="2" cellspacing="0">
		<tr>
			<td align="center"><br>
					<em><span class="black">y</span><sub><span class="blue">i</span><span class="green">j</span><span class="red">k</span></sub></em>&nbsp;= &nbsp;µ&nbsp;+&nbsp;</td>
			<td align="center" class="blue">(<em>explained by X</em>)<br>
				β<em><sub>i</sub></em></td>
			<td align="center"><br>
				&nbsp;+&nbsp;</td>
			<td align="center" class="green">(<em>explained by Z</em>)<br>
				γ<em><sub>j</sub></em></td>
			<td align="center"><br>
				&nbsp;+&nbsp;</td>
			<td align="center" class="red">(<em>unexplained</em>)<br>
				ε<em><sub>ijk</sub></em></td>
		</tr>
	</table></div>
	<p>where <span class="blue">β<sub>1</sub>&nbsp;=&nbsp;0</span> and <span class="green">γ<sub>1</sub>&nbsp;=&nbsp;0</span>.</p>
	<p>If <span class="blue">X</span> has<em> a</em> levels, this model has (<em>a</em>&nbsp;-&nbsp;1) unknown parameters, <span class="blue">β<sub>2</sub></span>, <span class="blue">β<sub>3</sub></span>, ..., <span class="blue">β<em><sub>a</sub></em></span>, corresponding to the levels of the factor. This flexibility allows the factor levels to have arbitrary effects on the response.</p>
	<p>If the factor is numerical, there is usually an expectation of smoothness in the relationship between the factor level and the response. Refining the model to impose some form of smoothness on the relationship usually provides a better estimate of the effect the factor.</p>
	<div class="centred"><div class="boxed">
		<p>A categorical model for a numerical factor  often does not display a 'smooth' relationship and cannot be used to predict the response at intermediate values of the factor.</p>
	</div></div>
	<p>The same argument suggests that the set of parameters <span class="green">{γ<em><sub>j</sub></em>}</span> for the factor <span class="green">Z</span> may be better replaced by a term that imposes some smoothness to the relationship.</p>
	<div class="diagram"> 
		<p class="heading">Drilling thrust</p>
		<p>An experiment was conducted to determine how drilling speeds and feeds affected driling thrust forces in a particular material, B<sub>10</sub>. The diagram below shows the data and the least squares fit of a model that treats the two factors as categorical variables.</p>
<div class="centred"> 
<applet codebase="../../java" code="dataView.CastApplet.class" archive="coreCAST.jar" width="550" height="500">
<script type="text/javascript">writeAppletParams();</script>
<param name="appletName" value="twoFactorProg.RotateDragFactorsApplet">
<param name="yVarName" value="Thrust">
<param name="yValues" value="322 310 308 285 308 260 266 250 280 260 532 530 476 510 448 395 448 475 476 510 840 700 812 700 543 650 812 810 835 770">
<param name="yAxis" value="200 900 200 100">
<param name="xVarName" value="Feed rate">
<param name="xValues" value="10@0 10@1 10@2">
<param name="xLabels" value="40 90 140">
<param name="zVarName" value="Drill speed">
<param name="zValues" value="2@0 2@1 2@2 2@3 2@4 2@0 2@1 2@2 2@3 2@4 2@0 2@1 2@2 2@3 2@4">
<param name="zLabels" value="100 275 450 625 800">
<param name="zModelTerms" value="factor">
<param name="xModelTerms" value="factor">
<param name="interaction" value="false">
<param name="initialModel" value="ls">
<param name="maxRss" value="9999999">
<param name="customText" value="None=None#Linear=Linear#Factor=Factor">
</applet> 
</div>

	<p>Observe that:</p>
	<ul>
		<li>Increasing the feed rate seems to have an <strong>almost</strong> linear effect on thrust.</li>
		<li>Drilling speed 450 seems to have lower thrust than the other drilling speeds. Is this simply by chance or is there a U-shaped relationship?</li>
	</ul>
	<p>The model does not allow us to predict the thrust at intermediate values of the factors. For example, we cannot use it to predict the thrust at drilling speed 400 with feed rate 100.</p>
</div>



<script type='text/javascript'>writePageEnd();</script>

</body>
</html>
